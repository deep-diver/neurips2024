[{"figure_path": "aNHEqFMS0N/figures/figures_0_1.jpg", "caption": "Figure 1: Results of applying different position interpolation methods to the \u201cLost-in-the-Middle", "description": "The figure shows the results of applying different position interpolation methods (linear and YaRN) to the task of retrieving information from the middle of a long context.  The x-axis represents the position of the key to be retrieved, and the y-axis represents the accuracy.  The results show that CREAM consistently outperforms the baseline (PoSE) across all positions, especially in the middle, demonstrating its effectiveness in mitigating the \"Lost-in-the-Middle\" problem, which is common in long-context LLMs. This highlights CREAM's ability to effectively utilize information from the middle part of a long context.", "section": "Abstract"}, {"figure_path": "aNHEqFMS0N/figures/figures_2_1.jpg", "caption": "Figure 2: Illustration of CREAM position interpolation. The pre-trained context window is divided into three segments: the head, middle, and tail. To ensure continuity, we fix the lengths of the head and tail to a small value k. To maintain relativity, we set the lengths of the head and tail to N/3. For the middle part, the start and end position indices are determined via truncated Gaussian sampling, thereby encouraging the model to pay more attention to the information in the middle part.", "description": "This figure illustrates the CREAM (Continuity-Relativity indExing with gAussian Middle) position interpolation method.  The pre-trained context window (size N) is divided into three segments: head, middle, and tail.  To maintain continuity in positional encoding, the lengths of the head and tail segments are kept small and fixed (k << N or N/3 for different strategies).  Relativity is maintained by setting the head and tail to N/3 in the relativity strategy.  Critically, the start and end indices of the middle segment are sampled using a truncated Gaussian distribution, focusing the model's attention on the middle part of the longer context (size L) during fine-tuning. This addresses the \"Lost-in-the-Middle\" problem where long-context LLMs struggle to effectively use information from the middle of the input.", "section": "2.2 Proposed Recipe: Continuity-Relativity indExing with gAussian Middle (CREAM)"}, {"figure_path": "aNHEqFMS0N/figures/figures_4_1.jpg", "caption": "Figure 1: Results of applying different position interpolation methods to the \u201cLost-in-the-Middle", "description": "This figure compares different position interpolation methods' performance on the \u201cLost-in-the-Middle\u201d task.  The task assesses the ability of a model to retrieve information from the middle of an extended context. Two methods are compared against the proposed CREAM method: linear interpolation and YaRN interpolation. The graph shows that CREAM consistently outperforms other methods across various positions in the context, particularly exhibiting a significant improvement in retrieving information from the middle. This result highlights CREAM's effectiveness in addressing the \"Lost-in-the-Middle\" problem that is often faced by long-context LLMs.", "section": "Abstract"}, {"figure_path": "aNHEqFMS0N/figures/figures_5_1.jpg", "caption": "Figure 1: Results of applying different position interpolation methods to the \u201cLost-in-the-Middle", "description": "This figure compares the performance of different position interpolation methods on the \"Lost-in-the-Middle\" task. The task involves retrieving information from the middle of a long context.  The figure shows that CREAM outperforms POSE at all positions, especially in the middle.", "section": "1 Introduction"}, {"figure_path": "aNHEqFMS0N/figures/figures_8_1.jpg", "caption": "Figure 1: Results of applying different position interpolation methods to the \u201cLost-in-the-Middle", "description": "The figure shows the results of applying different position interpolation methods to the \"Lost-in-the-Middle\" task on CREAM and PoSE. It compares linear and YaRN interpolation methods, demonstrating that CREAM outperforms PoSE at every position, especially in the middle. This highlights CREAM's ability to effectively utilize information from the middle part of the context, addressing a common limitation of existing long-context LLMs.", "section": "Introduction"}, {"figure_path": "aNHEqFMS0N/figures/figures_9_1.jpg", "caption": "Figure 6: Ablation Results (%) on LongChat-Lines. Each length consisting of 50 samples. The above are the results of using Linear interpolation on the Llama 2-7B model.", "description": "This figure shows the ablation study results on the LongChat-Lines dataset using linear interpolation on the Llama 2-7B model.  It specifically investigates the impact of different values for the sigma hyperparameter (2.0, 2.5, 3.0, 3.5, and 4.0) within the truncated Gaussian distribution used in CREAM. The x-axis represents the token length, and the y-axis represents accuracy.  Each line shows the accuracy across various token lengths, for a given sigma value. The average accuracy for each sigma value is included in the legend. The purpose of this analysis is to determine the optimal value for sigma, which results in the best overall performance.", "section": "3.6 Ablation Study"}, {"figure_path": "aNHEqFMS0N/figures/figures_15_1.jpg", "caption": "Figure 3: Results (%) on LongChat-Lines. Each length consists of 50 samples. All results are fine-tuned on Llama-2-7B with 4K length data through linear position interpolation. Refer to Appendix E for ablated results using NTK [Peng and Quesnelle, 2023] and Yarn [Peng et al., 2023].", "description": "This figure displays the results of the LongChat-Lines experiment, comparing CREAM against several baseline methods (RandPos, POSE, and the original Llama-2-7B model).  The y-axis represents accuracy, and the x-axis shows the token length used in the experiment.  Each data point represents the average accuracy across 50 samples of that token length.  The results show CREAM consistently outperforms the baselines, especially at longer context lengths, demonstrating its ability to effectively handle longer contexts while maintaining accuracy. The caption also indicates that more detailed results for other interpolation techniques are available in Appendix E.", "section": "3.2 Effective Context Window Size Evaluation on CREAM-Base"}, {"figure_path": "aNHEqFMS0N/figures/figures_16_1.jpg", "caption": "Figure 3: Results (%) on LongChat-Lines. Each length consists of 50 samples. All results are fine-tuned on Llama-2-7B with 4K length data through linear position interpolation. Refer to Appendix E for ablated results using NTK [Peng and Quesnelle, 2023] and Yarn [Peng et al., 2023].", "description": "This figure shows the results of the LongChat-Lines experiment, comparing CREAM against baselines.  The x-axis represents the context window size in tokens, and the y-axis represents the accuracy.  Multiple lines represent different methods (Original, RandPos, POSE, and CREAM).  Each point on each line is the average accuracy across 50 samples of that length.  The graph illustrates CREAM's superior performance in handling long contexts, especially at larger context window sizes.  Appendix E provides additional results using different positional interpolation methods.", "section": "3.2 Effective Context Window Size Evaluation on CREAM-Base"}, {"figure_path": "aNHEqFMS0N/figures/figures_17_1.jpg", "caption": "Figure 1: Results of applying different position interpolation methods to the \u201cLost-in-the-Middle", "description": "This figure compares the performance of different position interpolation methods on the Lost-in-the-Middle task, which is designed to evaluate the ability of LLMs to retrieve information from the middle of a long context. The results show that CREAM significantly outperforms the baseline PoSE method across all key positions, highlighting the effectiveness of the proposed method in addressing the Lost-in-the-Middle problem. The methods compared are linear interpolation and YaRN interpolation.", "section": "1 Introduction"}, {"figure_path": "aNHEqFMS0N/figures/figures_17_2.jpg", "caption": "Figure 1: Results of applying different position interpolation methods to the \u201cLost-in-the-Middle", "description": "This figure compares the performance of different position interpolation methods (linear, YaRN) in addressing the \"Lost-in-the-Middle\" problem for long-context LLMs. It shows that the proposed CREAM method significantly outperforms the baseline PoSE method across various key positions, especially in the middle of the context.  This highlights CREAM's effectiveness in focusing on and utilizing information from the middle section of extended contexts.", "section": "1 Introduction"}]