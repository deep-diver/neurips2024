Learning Macroscopic Dynamics from Partial Microscopic Observations