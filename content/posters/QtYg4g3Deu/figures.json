[{"figure_path": "QtYg4g3Deu/figures/figures_0_1.jpg", "caption": "Figure 1: An example on WebKB [51, 20]. It illustrates (1) The distribution shift from source to target (the thick arrow in the upper right) and (2) Instance-wise heterogeneity in the target distribution (the thin arrows pointing to u\u2081 and u\u2082).", "description": "This figure shows an example of complex distributional shifts in real-world graph data, using the WebKB dataset. It highlights two aspects: a general distribution shift from the source to the target distribution, and instance-wise heterogeneity within the target distribution.  Specific nodes (u1 and u2) in the target distribution exhibit different degrees of change in their features (e.g., average node degree and average feature standard deviation), illustrating the complexity and diversity of distributional shifts that can occur in real-world scenarios.", "section": "1 Introduction"}, {"figure_path": "QtYg4g3Deu/figures/figures_1_1.jpg", "caption": "Figure 2: Overview of GraphMETRO on graph classification tasks. (a) High-level Concept: As a simple example, the distribution shift from a target graph G\u2208 Dt to a source distribution Ds is decomposed along three shift dimensions: graph size (\u00a71), node degree (\u00a72), and feature noise (\u00a73). Note that the shift components can be customized and expanded based on downstream tasks. (b) Architecture: Given an input graph, the gating model \u03bc decomposes the instance-specific distribution shift into the contributions from the shift components. Then, each expert model \u0163i (i > 0) is tasked with generating referential invariant representations (cf. Section 3 for the definition) w.r.t. an assigned shift component. \u03be\u03bf is a reference model used for aligning the representation spaces of the expert models. The final representation is aggregated from the experts' output and is referentially invariant to any distribution shifts, which is then input to the classifier.", "description": "This figure provides a high-level overview and the architecture of GraphMETRO. The high-level concept illustrates how GraphMETRO decomposes distribution shifts into three dimensions (graph size, node degree, and feature noise).  The architecture shows how the gating model identifies these shift components and how multiple expert models generate referential representations to mitigate these shifts.  These representations are then aggregated and fed into a classifier.", "section": "Mixture of Aligned Experts"}, {"figure_path": "QtYg4g3Deu/figures/figures_1_2.jpg", "caption": "Figure 2: Overview of GraphMETRO on graph classification tasks. (a) High-level Concept: As a simple example, the distribution shift from a target graph G\u2208 Dt to a source distribution Ds is decomposed along three shift dimensions: graph size (\u00a71), node degree (\u00a72), and feature noise (\u00a73). Note that the shift components can be customized and expanded based on downstream tasks. (b) Architecture: Given an input graph, the gating model \u03bc decomposes the instance-specific distribution shift into the contributions from the shift components. Then, each expert model \u0163i (i > 0) is tasked with generating referentially invariant representations (cf. Section 3 for the definition) w.r.t. an assigned shift component. \u03be\u03bf is a reference model used for aligning the representation spaces of the expert models. The final representation is aggregated from the experts' output and is referentially invariant to any distribution shifts, which is then input to the classifier.", "description": "This figure provides a high-level overview and detailed architecture of the GraphMETRO model for graph classification.  Panel (a) illustrates the concept of decomposing a complex distribution shift into simpler, interpretable shift components (e.g., graph size, node degree, feature noise). Panel (b) shows the architecture, which uses a gating model to determine the contribution of each shift component and multiple expert models, each focusing on a specific component.  A key aspect is the alignment of representations across expert models, ensuring reliable optimization and referential invariance to shifts. The final representation, invariant to distributional shifts, is fed to a classifier.", "section": "Method"}, {"figure_path": "QtYg4g3Deu/figures/figures_7_1.jpg", "caption": "Figure 3: Accuracy on synthetic distribution shifts. The first row shows the testing accuracy on single shift components. We label the distribution by the clockwise order. The second row shows the testing accuracy on distribution shifts with multiple shift components, where each testing distribution is a composition of two different transformations. For example, (1, 5) denotes a testing distribution where each graph is controlled by random subgraph (1) and noisy feature (5) shift components. We include the numerical values in Appendix E.", "description": "This figure displays the results of experiments conducted on synthetic datasets with various distribution shifts. The top row shows the performance of different methods (ERM, ERM-Aug, and GraphMETRO) when dealing with single shift components. The bottom row shows their performance when facing combinations of two shift components.  Each axis represents a different type of shift and the values indicate the testing accuracy. The figure illustrates how GraphMETRO handles complex shifts that result from the combination of multiple individual shifts.", "section": "4.2 Inspect GraphMETRO on Synthetic Datasets"}, {"figure_path": "QtYg4g3Deu/figures/figures_8_1.jpg", "caption": "Figure 4: (a) Invariance matrix on the Twitter dataset. Lighter colors indicate a higher invariance of representations produced by each expert. Small values on the diagonal elements of the invariance matrix indicate that each expert excels at generating invariant representations w.r.t. the specific shift component. (b) Mixture of distribution shifts identified by GraphMETRO. Higher values indicate a strong shift component in the testing distribution.", "description": "This figure demonstrates the effectiveness of GraphMETRO in generating invariant representations and identifying dominant shift components.  (a) shows an invariance matrix visualizing how well each expert model is invariant to different shift components. The diagonal elements represent the model's invariance to its own assigned shift, while off-diagonal values show the impact of other shifts. Low diagonal values indicate strong invariance. (b) depicts the mixture of shifts found by GraphMETRO on two datasets (WebKB and Twitch), showing the relative influence of each shift component.", "section": "4.3 Invariance Matrix for Inspecting GraphMETRO"}, {"figure_path": "QtYg4g3Deu/figures/figures_8_2.jpg", "caption": "Figure 4: (a) Invariance matrix on the Twitter dataset. Lighter colors indicate a higher invariance of representations produced by each expert. Small values on the diagonal elements of the invariance matrix indicate that each expert excels at generating invariant representations w.r.t. the specific shift component. (b) Mixture of distribution shifts identified by GraphMETRO. Higher values indicate a strong shift component in the testing distribution.", "description": "Figure 4(a) shows an invariance matrix visualizing how well each expert model generates representations invariant to a specific shift component. The lighter the color, the higher the invariance. Figure 4(b) shows the contribution of each shift component to the distribution shift in WebKB and Twitch datasets. The larger the value, the more significant the impact of the component.", "section": "4.3 Invariance Matrix for Inspecting GraphMETRO"}, {"figure_path": "QtYg4g3Deu/figures/figures_15_1.jpg", "caption": "Figure 1: An example on WebKB [51, 20]. It illustrates (1) The distribution shift from source to target (the thick arrow in the upper right) and (2) Instance-wise heterogeneity in the target distribution (the thin arrows pointing to u\u2081 and u\u2082).", "description": "This figure shows an example of distribution shift on the WebKB dataset. The thick arrow indicates the overall distribution shift from the source to the target domain. However, the thin arrows highlight that even within the target domain, there is instance-wise heterogeneity, as shown by nodes u1 and u2 exhibiting varying degrees of change in their features. This example illustrates the complex and dynamic nature of real-world graph data, motivating the need for models that can generalize well to various forms of distribution shift.", "section": "1 Introduction"}, {"figure_path": "QtYg4g3Deu/figures/figures_20_1.jpg", "caption": "Figure 3: Accuracy on synthetic distribution shifts. The first row shows the testing accuracy on single shift components. We label the distribution by the clockwise order. The second row shows the testing accuracy on distribution shifts with multiple shift components, where each testing distribution is a composition of two different transformations. For example, (1, 5) denotes a testing distribution where each graph is controlled by random subgraph (1) and noisy feature (5) shift components. We include the numerical values in Appendix E.", "description": "This figure shows the results of applying GraphMETRO to synthetic datasets with various combinations of distribution shifts.  The first row displays the accuracy for single, isolated shift components, while the second row illustrates the accuracy for datasets with combinations of two different shifts. This helps to demonstrate GraphMETRO's ability to handle complex, multi-dimensional distribution shifts.", "section": "4.2 Inspect GraphMETRO on Synthetic Datasets"}]