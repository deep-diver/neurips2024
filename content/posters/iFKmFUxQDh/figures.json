[{"figure_path": "iFKmFUxQDh/figures/figures_1_1.jpg", "caption": "Figure 1: Existing LRMs encounter hallucination issues, i.e., generating contents or details that deviate from the original scene, when dealing with challenging degradations. By incorporating the proposed ReFIR to existing LRMs [19] without any training, the additional external knowledge facilitates producing more faithful results. Please zoom in for better visualization.", "description": "This figure shows a comparison of image restoration results between existing Large Restoration Models (LRMs) and the proposed ReFIR method.  The top row shows an example where the existing LRMs (SeeSR and SUPIR) fail to accurately restore details of a dome, resulting in hallucination (incorrect or unrealistic details). The bottom row shows a similar issue with the restoration of a building's columns. In contrast, the ReFIR method, when combined with the existing LRMs, produces more faithful and realistic restorations, demonstrating its ability to mitigate the hallucination problem.", "section": "Introduction"}, {"figure_path": "iFKmFUxQDh/figures/figures_2_1.jpg", "caption": "Figure 2: In-depth visualization about the working mechanism of LRM. Left: we use PCA to visualize the top three principal components of latent extracted from the self-attention layer of the ControlNet and UNet decoder. Right: quantitative power spectrum of the corresponding latent using Fourier analysis. More visualization can be found in Appendix H.", "description": "This figure visualizes the working mechanism of Large Restoration Models (LRMs) using PCA and Fourier analysis. The left side shows the top three principal components of latent features extracted from the self-attention layers of the ControlNet and UNet decoder using PCA. The right side presents the power spectrum of those latent features using Fourier analysis.  This helps illustrate how LRMs process image information, distinguishing structure reconstruction from detail texture restoration.", "section": "3 Probing Large Restoration Models"}, {"figure_path": "iFKmFUxQDh/figures/figures_3_1.jpg", "caption": "Figure 3: Our ReFIR consists of two stages: the Reference Image Retrieval stage employs the retriever R to search content-relevant images from high-quality image database D, and then the High-fidelity Image Restoration stage restores HQ image with reference images IR as condition. The proposed framework is highly generic and can be applied to multiple existing LRMs without any training or fine-tuning.", "description": "This figure illustrates the ReFIR framework, which consists of two main stages: 1) Reference Image Retrieval, where a retriever (R) searches for content-relevant images from a high-quality image database (D) given a low-quality input image; 2) High-fidelity Image Restoration, where a large restoration model uses the retrieved images (IR) to restore the high-quality image, leveraging additional external knowledge.  The framework is designed to be adaptable to various existing large restoration models (LRMs) without requiring additional training.", "section": "4 Methodology"}, {"figure_path": "iFKmFUxQDh/figures/figures_4_1.jpg", "caption": "Figure 4: An illustration of cross image injection. Both CT and Cs share the same model weights. designed such that it provides the model with beneficial data representations from D to help restore images containing details faithful to the original scenes.", "description": "This figure illustrates the cross-image injection module, a key component of the ReFIR framework. It shows how the model leverages both the target restoration chain (CT) and the source reference chain (Cs), which share the same model weights.  The source reference chain processes retrieved high-quality images, while the target restoration chain processes the low-quality image to be restored. The cross-image injection module facilitates the transfer of high-quality texture information from Cs to CT through separate attention mechanisms. This attention mechanism is designed to overcome the domain preference problem and efficiently use external knowledge from the retrieved image, thus enhancing the restoration quality and reducing hallucination.  Spatial adaptive gating is used to handle spatial misalignment between the low-quality and high-quality images, ensuring consistent texture integration.  Distribution alignment then refines the fused features to minimize any discrepancies between the two chains.", "section": "4.2 Cross Image Injection for High-fidelity Image Restoration"}, {"figure_path": "iFKmFUxQDh/figures/figures_6_1.jpg", "caption": "Figure 1: Existing LRMs encounter hallucination issues, i.e., generating contents or details that deviate from the original scene, when dealing with challenging degradations. By incorporating the proposed ReFIR to existing LRMs [19] without any training, the additional external knowledge facilitates producing more faithful results. Please zoom in for better visualization.", "description": "This figure shows the results of image restoration using different methods. The first column shows the reference image, the second column shows the ground truth image, and the following columns show the results obtained using different large restoration models (LRMs). The last column shows the results of the proposed method, ReFIR, which incorporates retrieved images as external knowledge to improve the fidelity of the restoration results. The figure highlights how existing LRMs struggle with severe degradations, resulting in hallucinatory outputs that differ from the original scene. In contrast, ReFIR successfully addresses this issue by leveraging external knowledge and generating results faithful to the original scene.", "section": "Introduction"}, {"figure_path": "iFKmFUxQDh/figures/figures_7_1.jpg", "caption": "Figure 1: Existing LRMs encounter hallucination issues, i.e., generating contents or details that deviate from the original scene, when dealing with challenging degradations. By incorporating the proposed ReFIR to existing LRMs [19] without any training, the additional external knowledge facilitates producing more faithful results. Please zoom in for better visualization.", "description": "This figure shows a comparison of image restoration results using existing Large Restoration Models (LRMs) and the proposed ReFIR method. The first column shows a reference image. The second column shows the ground truth image. Subsequent columns illustrate results from various LRMs (SeeSR, SUPIR) and the proposed ReFIR method.  The results demonstrate that the existing LRMs struggle to faithfully reproduce details in severely degraded images (hallucination), while ReFIR, by incorporating external knowledge from retrieved images, significantly improves the fidelity of restoration without any additional training.", "section": "Introduction"}, {"figure_path": "iFKmFUxQDh/figures/figures_8_1.jpg", "caption": "Figure 3: Our ReFIR consists of two stages: the Reference Image Retrieval stage employs the retriever R to search content-relevant images from high-quality image database D, and then the High-fidelity Image Restoration stage restores HQ image with reference images IR as condition. The proposed framework is highly generic and can be applied to multiple existing LRMs without any training or fine-tuning.", "description": "This figure illustrates the ReFIR framework, which consists of two main stages. First, the retriever (R) searches a high-quality image database (D) for content-relevant images to the given low-quality image (LQ). These retrieved images (IR) then serve as external knowledge to improve the restoration process.  The second stage uses a large restoration model (LRM) to restore the high-fidelity (HQ) image using the retrieved images as a condition.  This process is training-free and adaptable to various LRMs.", "section": "4 Methodology"}, {"figure_path": "iFKmFUxQDh/figures/figures_8_2.jpg", "caption": "Figure 8: The normalized attention scores are obtained by averaging all samples and all time steps.", "description": "This figure shows the normalized attention scores obtained by averaging all samples and time steps.  The plot illustrates the attention scores when using in-domain low-quality (LQ) images versus cross-domain high-quality (HQ) images.  The graph visually demonstrates the effect of domain preference, where the model shows a stronger tendency to attend to features within the same domain (LQ) even when cross-domain (HQ) information would be more beneficial. An equilibrium line is included as a reference.", "section": "4.2 Cross Image Injection for High-fidelity Image Restoration"}, {"figure_path": "iFKmFUxQDh/figures/figures_9_1.jpg", "caption": "Figure 1: Existing LRMs encounter hallucination issues, i.e., generating contents or details that deviate from the original scene, when dealing with challenging degradations. By incorporating the proposed ReFIR to existing LRMs [19] without any training, the additional external knowledge facilitates producing more faithful results. Please zoom in for better visualization.", "description": "This figure shows a comparison of image restoration results between existing Large Restoration Models (LRMs) and the proposed ReFIR method. The first column shows the reference images, the second column shows the ground truth, and the remaining columns show results from different LRMs (SeeSR, SUPIR) and the ReFIR method. The ReFIR method significantly improves the fidelity of the restored images, especially in challenging cases where the input image has severe degradation. This demonstrates that the ReFIR method can effectively mitigate the hallucination problem of LRMs by incorporating additional external knowledge.", "section": "Introduction"}, {"figure_path": "iFKmFUxQDh/figures/figures_9_2.jpg", "caption": "Figure 10: An explanation of how the proposed retrieval augmented framework affects the restoration process of existing LRMS.", "description": "This figure illustrates how the ReFIR framework integrates with existing Large Restoration Models (LRMs).  It shows the latent manifold, representing the model's internal representation of the image. The current latent (Xt) is influenced by two forces: one from the LRM's internal knowledge (a force based on the model's pre-trained knowledge and parameters), and another from the external knowledge provided by the retrieved reference image (the force from the retrieved image). These two forces interact to modify the latent representation, resulting in the \"Finally Modified Xt-1\", which guides the restoration process towards a more faithful and high-fidelity result.", "section": "Discussions"}, {"figure_path": "iFKmFUxQDh/figures/figures_15_1.jpg", "caption": "Figure 1: Existing LRMs encounter hallucination issues, i.e., generating contents or details that deviate from the original scene, when dealing with challenging degradations. By incorporating the proposed ReFIR to existing LRMs [19] without any training, the additional external knowledge facilitates producing more faithful results. Please zoom in for better visualization.", "description": "This figure shows a comparison between the results of existing Large Restoration Models (LRMs) and the proposed ReFIR method on several images.  The existing LRMs struggle with severe degradations, producing unrealistic details (hallucinations) that are inconsistent with the ground truth. In contrast, ReFIR, by incorporating external knowledge from retrieved images, produces restorations that are significantly more faithful to the original scene and visually realistic.", "section": "Introduction"}, {"figure_path": "iFKmFUxQDh/figures/figures_18_1.jpg", "caption": "Figure 2: In-depth visualization about the working mechanism of LRM. Left: we use PCA to visualize the top three principal components of latent extracted from the self-attention layer of the ControlNet and UNet decoder. Right: quantitative power spectrum of the corresponding latent using Fourier analysis. More visualization can be found in Appendix H.", "description": "This figure visualizes the working mechanism of Large Restoration Models (LRMs) using Principal Component Analysis (PCA) and Fourier analysis. The left side shows PCA visualization of latent features extracted from the self-attention layers of the ControlNet and UNet decoder, highlighting the information processed in each stage.  The right side displays the power spectrum of these features using Fourier analysis, demonstrating how frequency components change during the image restoration process. Appendix H provides further visualizations.", "section": "3 Probing Large Restoration Models"}, {"figure_path": "iFKmFUxQDh/figures/figures_19_1.jpg", "caption": "Figure 13: Additional visualization on the attention maps from the cross image injection. It can be seen that the query pixel in the CT can well attend similarly region from Cs.", "description": "This figure visualizes the attention maps generated during the cross-image injection process in ReFIR.  It shows how query pixels from the low-quality image (target restoration chain) attend to relevant regions in the retrieved high-quality image (source reference chain). The visualization demonstrates that ReFIR effectively leverages high-quality texture information from the retrieved image to guide the restoration of the low-quality image, mitigating the hallucination problem.", "section": "4.2 Cross Image Injection for High-fidelity Image Restoration"}, {"figure_path": "iFKmFUxQDh/figures/figures_20_1.jpg", "caption": "Figure 1: Existing LRMs encounter hallucination issues, i.e., generating contents or details that deviate from the original scene, when dealing with challenging degradations. By incorporating the proposed ReFIR to existing LRMs [19] without any training, the additional external knowledge facilitates producing more faithful results. Please zoom in for better visualization.", "description": "This figure shows a comparison of image restoration results between existing Large Restoration Models (LRMs) and the proposed ReFIR method.  The leftmost column shows a reference image.  The next column shows the ground truth.  The following columns illustrate results from SeeSR, SUPIR, and the proposed ReFIR method.  The figure highlights the hallucination problem in LRMs, where restored images may contain details that are inconsistent with the original scene, and how ReFIR improves restoration fidelity by incorporating external knowledge from retrieved reference images without any retraining.", "section": "Introduction"}, {"figure_path": "iFKmFUxQDh/figures/figures_21_1.jpg", "caption": "Figure 1: Existing LRMs encounter hallucination issues, i.e., generating contents or details that deviate from the original scene, when dealing with challenging degradations. By incorporating the proposed ReFIR to existing LRMs [19] without any training, the additional external knowledge facilitates producing more faithful results. Please zoom in for better visualization.", "description": "This figure demonstrates the effectiveness of the proposed ReFIR method. It shows that existing Large Restoration Models (LRMs) often suffer from hallucination\u2014producing unrealistic details in severely degraded images.  The ReFIR method, however, is shown to improve the restoration by incorporating external knowledge (retrieved images) without additional training, resulting in more faithful and realistic results.", "section": "Introduction"}]