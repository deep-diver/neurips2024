Contextual Decision-Making with Knapsacks Beyond the Worst Case