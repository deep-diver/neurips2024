[{"type": "text", "text": "IMAGPose: A Unified Conditional Framework for Pose-Guided Person Generation ", "text_level": 1, "page_idx": 0}, {"type": "text", "text": "Fei Shen, Jinhui Tang\u2217 Nanjing University of Science and Technology {feishen, jinhuitang}@njust.edu.cn ", "page_idx": 0}, {"type": "text", "text": "Abstract ", "text_level": 1, "page_idx": 0}, {"type": "text", "text": "Diffusion models represent a promising avenue for image generation, having demonstrated competitive performance in pose-guided person image generation. However, existing methods are limited to generating target images from a source image and a target pose, overlooking two critical user scenarios: generating multiple target images with different poses simultaneously and generating target images from multi-view source images. To overcome these limitations, we propose IMAGPose, a unified conditional framework for pose-guided image generation, which incorporates three pivotal modules: a feature-level conditioning (FLC) module, an image-level conditioning (ILC) module, and a cross-view attention (CVA) module. Firstly, the FLC module combines the low-level texture feature from the VAE encoder with the high-level semantic feature from the image encoder, addressing the issue of missing detail information due to the absence of a dedicated person image feature extractor. Then, the ILC module achieves an alignment of images and poses to adapt to flexible and diverse user scenarios by injecting a variable number of source image conditions and introducing a masking strategy. Finally, the CVA module introduces decomposing global and local cross-attention, ensuring local fidelity and global consistency of the person image when multiple source image prompts. The three modules of IMAGPose work together to unify the task of person image generation under various user scenarios. Extensive experiment results demonstrate the consistency and photorealism of our proposed IMAGPose under challenging user scenarios. The code and model will be available at ", "page_idx": 0}, {"type": "text", "text": "1 Introduction ", "text_level": 1, "page_idx": 0}, {"type": "text", "text": "Pose-guided person generation [51, 29] aims to transform a source person image into a target person image under a specific pose while maintaining appearance consistency. It has many applications, including virtual reality, flim production, and e-commerce. Besides, the generated images can be used to enhance the performance of downstream tasks, such as person re-identification [32, 54, 48, 34]. ", "page_idx": 0}, {"type": "text", "text": "Early methods [4, 57, 42] usually are developed based on generative adversarial networks (GANs). However, GAN-based methods easily suffer from the instability of the min-max training objective and the difficulty of generating high-quality images in a single forward pass. Recently, methods based on diffusion models [1, 22, 11, 36] are becoming increasingly popular in the community. As a promising alternative to GAN for image generation, diffusion models utilize the source image and target pose as conditions. They generate the target image through a multi-step denoising process instead of completing it in a single step. So, diffusion models help better retain the input information. For example, PIDM [1] proposes a texture diffusion module that inserts features of the source image, extracted by a frozen encoder, into different stages of the diffusion model\u2019s UNet. Similarly, PoCoLD [11] further constrains the correspondence between the person and the pose by introducing additional 3D Densepose [19] annotations and interacting with the appearance features of the source image extracted by the frozen encoder. Additionally, the PCDMs [36] introduce a three-stage diffusion model that is used for predicting the global features of the target image, generating a coarse-grained person image, and refining texture details. ", "page_idx": 0}, {"type": "text", "text": "", "page_idx": 1}, {"type": "text", "text": "Despite the above methods based on diffusion models impressive results compared to GAN-based approaches, existing methods still exhibit 2 shortcomings. (1) For methods based on diffusion models, they neglect underlying texture detail information. As these methods employ a frozen image encoder, e.g., CLIP, to extract appearance features from the source image, which is trained on a general image dataset, it is not a specialized feature extractor for person images and can only extract highlevel semantic features. (2) For existing methods, as shown in Figure 1, they overlook two critical user scenarios: generating multiple target images with different poses simultaneously and generating target images from multi-view source images. In practice, users often need to generate multiple consistent target images based on different poses simultaneously, such as in portrait photography and clothing displays. In addition, users often upload multiple source images to provide rich details for generating a target image. However, the fixed architecture of existing methods limits the ability of users to make arbitrary modifications and extensions. ", "page_idx": 1}, {"type": "image", "img_path": "6IyYa4gETN/tmp/38f5b6dfd0deeaaab7f28b94b3ce44836c6eeea781bcac1ffcbf669c7a0cb2f0.jpg", "img_caption": ["Figure 1: Existing methods can only support generating a target image from one source image and one target pose. "], "img_footnote": [], "page_idx": 1}, {"type": "text", "text": "", "page_idx": 1}, {"type": "text", "text": "We propose a unified conditional framework named IMAGPose to address the above issues. For the first issue, we devise that the feature-level conditioning (FLC) module extracts low-level texture features from the VAE encoder and high-level semantic features from the image encoder. Because the frozen VAE can almost reconstruct images losslessly, it can easily extract low-level information without training. By leveraging the VAE\u2019s encoding capability, we fuse the source image\u2019s low-level and high-level information, addressing the absence of a dedicated person image feature extractor. To address the second issue, we propose the image-level conditioning (ILC) module randomly injecting various numbers of source image conditions and introducing a masking strategy to adapt to different user scenarios. Specifically, we combine all target images into a joint target, and then the masking strategy randomly masks the target image into a joint mask according to user scenarios. Meanwhile, the ILC extracts the pose from the source image and combines it with the target pose to form a joint pose. Therefore, IMAGPose can inject image-level source image conditions from the input end, achieving a one-to-one correspondence between the person\u2019s image and pose. Further, we present the cross-view attention (CVA) module, introducing decomposable global and local cross-attention to ensure the person images\u2019 local fidelity and global consistency when any user scenarios. We summarize the contributions of this paper as follows, ", "page_idx": 1}, {"type": "text", "text": "\u2022 We are the first to explore pose-guided image generation tasks under different conditions and propose a unified conditional framework for synthesizing high-fidelity person images.   \n\u2022 We present the FLC module, which addresses the issue of missing texture features due to the absence of a dedicated person image feature extractor.   \n\u2022 We devise the ILC module to inject a variable number of source image conditions and introduce a masking strategy, achieving an alignment of images and poses.   \n\u2022 We develop a CVA module to decompose global and local cross-attention, ensuring the joint image\u2019s local fidelity and global consistency when multiple-view source image prompts.   \n\u2022 Extensive experiments on two challenging datasets show that proposed IMAGPose surpasses existing models. We also conduct a user study and applications for downstream tasks to comprehensively evaluate the advantages of IMAGPose. ", "page_idx": 1}, {"type": "text", "text": "2 Related Work ", "text_level": 1, "page_idx": 1}, {"type": "text", "text": "Based on GAN Methods. Early approaches [24, 25, 37, 57, 37, 49, 30] view the synthesis task as conditional image generation, utilizing conditional generative adversarial networks (CGANs) [26] to generate target images based on source appearance images and target poses. For example, $\\mathrm{PG^{2}}$ [24] proposed a two-stage method that refines the generated images in an adversarial manner. To decouple pose and appearance information, VUNet [8] suggests learning pose-independent features to tackle the complex structure problem of pose space transformation. Then, ADGAN [25] introduced a character attribute decomposition module to explicitly parse the human body and blend and insert conditions. VariGANs [53] combine variational inference with GANs to generate multi-view images from a single image, refining results from coarse to fine [5, 7, 6]. However, GAN-based methods [24, 25, 37] often suffer from issues such as blurred texture details and instability of the min-max training objective. To address the issue of blurred texture details, Grigorev et al. [9] proposed a CNN-based framework that first performs pose warping, followed by texture repair. Unselfie [18] introduced a pipeline that first identifies the target\u2019s neutral pose, then repairs appearance textures, and finally perfects and synthesizes the character in the background. However, these multi-stage methods require the introduction of multiple additional models and costs, impacting the efficiency of generation. ", "page_idx": 1}, {"type": "text", "text": "", "page_idx": 2}, {"type": "text", "text": "Based on Diffusion Models. Diffusion models have found extensive applications in virtual dressing [33], story generation [35], and portrait animation [45]. To address the instability of GAN\u2019s min-max training, methods based on diffusion models [13, 44, 40, 38, 31, 28] are gradually becoming more popular in the community. The core idea is to start from a simple noise vector and gradually transform it into a high-quality image through multiple denoising iterations, making it suitable for high-fidelity and context-aware generation. Besides unconditional generation [14, 39, 41], various methods [50, 47, 27] have been introduced to incorporate user-provided control signals into the generation process, thereby achieving more controllable image generation. For example, PIDM [1] proposed a texture diffusion module that uses the source image features extracted by the frozen encoder as conditions to be inserted into different stages of UNet. CFLG [22] proposed a mixedgranularity attention module to inject multi-scale fine-grained character appearance features into the generation process. PoCoLD [11] further constrains the correspondence between person images and poses by introducing additional 3D Densepose [19] annotations of poses and source image appearance features extracted by the frozen encoder. Subsequently, PCDMs [36] proposed a three-stage diffusion model that predicts global features under the target pose, aligns images and poses, and then refines texture details. Besides, APS [16] progressively couples target pose and appearance for effective human image synthesis. PoSynDA [20] simulates 3D pose distributions to address the lack of 2D-3D correspondences, enhancing data diversity. MotionEditor [43] uses a dual-branch structure that decouples key-value queries, preserving the background and character appearance for efficient content editing. However, the frozen encoders introduced in these diffusion model-based methods are trained on generic image datasets and can only extract high-level semantic features of person, easily overlooking low-level texture details. Furthermore, in real scenarios, these models do not support generating multiple target images at once and target generation under multi-view image prompts. ", "page_idx": 2}, {"type": "text", "text": "3 Method ", "text_level": 1, "page_idx": 2}, {"type": "text", "text": "Figure 2 illustrates IMAGPose, a unified conditional framework that encompasses 3 core modules: feature-level conditioning (FLC) module, image-level conditioning (ILC) module, and cross-view attention (CVA) module. This framework aims to generate high-fidelity and high-quality target images in any user scenario. The FLC module combines low-level texture features from the VAE encoder with high-level semantic features from the image encoder, which addresses the issue of losing texture details due to lacking a dedicated person image feature extractor. (Section 3.2). The ILC module introduces a masking strategy for the target image and incorporates a variable number of source image conditions. This module aligns the image and pose, making it suitable for different user scenarios. (Section 3.3). The CVA module proposes the decomposition of global and local cross-attention. This ensures the entire person images\u2019 local fidelity and global consistency.(Section 3.4). ", "page_idx": 2}, {"type": "text", "text": "3.1 Preliminaries ", "text_level": 1, "page_idx": 2}, {"type": "text", "text": "Diffusion models belong to a class of generative models. And these models are trained to reverse a diffusion process, which systematically introduces Gaussian noise to the data through a fixed Markov chain over a series of timesteps, denoted as $t$ . Concurrently, a denoising model is trained to generate samples starting from this Gaussian noise. The training objective of a diffusion model, denoted as $\\epsilon_{\\theta}$ and parameterized by $\\theta$ , typically employs a mean square error loss $L_{D M}$ . For each timestep $t$ , this loss is defined as follows, ", "page_idx": 2}, {"type": "equation", "text": "$$\nL_{D M}=\\mathbb{E}_{x_{0},\\epsilon,c,t}\\|\\epsilon-\\epsilon_{\\theta}\\big(x_{t},c,t\\big)\\|^{2},\n$$", "text_format": "latex", "page_idx": 2}, {"type": "image", "img_path": "6IyYa4gETN/tmp/4402cc4e526c9836b192a6fa61d5ee42f2b638a6744d040222835561af96e17c.jpg", "img_caption": ["Figure 2: The IMAGPose is a unified conditional framework designed to generate high-fidelity and high-quality target person images under various conditions. IMAGPose aims to address the issue of detail texture loss, achieve an alignment of person images and poses, and ensure the person images\u2019 local fidelity and global consistency. "], "img_footnote": [], "page_idx": 3}, {"type": "text", "text": "here, $x_{0}$ represents the original data, supplemented by a condition $c$ . The timestep $t$ of the diffusion process is represented by $t\\,\\in\\,[0,T]$ . The noisy data at the $t$ step, denoted as $x_{t}$ , is defined as $\\alpha_{t}x_{0}+\\sigma_{t}\\epsilon$ . In this context, $\\alpha_{t}$ and $\\sigma_{t}$ are predefined functions of $t$ that dictate the diffusion process. Once the model $\\epsilon_{\\theta}$ is trained, images can be synthesized from random noise through an iterative process. During the sampling stage, the predicted noise is calculated based on the predictions of both the conditional model $\\epsilon_{\\theta}(x_{t},c,t)$ and the unconditional model $\\epsilon_{\\theta}(x_{t},t)$ , using classifier-free guidance [15] according to Eq. 2. ", "page_idx": 3}, {"type": "equation", "text": "$$\n\\begin{array}{r}{\\hat{\\epsilon}_{\\theta}(x_{t},c,t)=w\\epsilon_{\\theta}(x_{t},c,t)+(1-w)\\epsilon_{\\theta}(x_{t},t),}\\end{array}\n$$", "text_format": "latex", "page_idx": 3}, {"type": "text", "text": "where $w$ is the guidance scale used to adjust the condition $c$ . ", "page_idx": 3}, {"type": "text", "text": "3.2 Feature-Level Conditioning Module ", "text_level": 1, "page_idx": 3}, {"type": "text", "text": "Existing methods typically depend on frozen encoders to extract appearance features from source images. However, these frozen encoders are trained on general image datasets, not explicitly designed for person image feature extraction. So, it can only capture high-level semantic features of the source image. To address this, as depicted in Figure 2(a), given that the frozen VAE can almost reconstruct images losslessly without training, we propose the FLC module, which simultaneously extracts low-level texture information from a VAE encoder [17] and high-level semantic information from an image encoder. Specifically, the FLC module consists of a frozen VAE encoder, an image encoder, and a trainable tokenizer layer. Assume that the source image $\\boldsymbol{x}\\in\\mathbb{R}^{c\\times h\\times w}$ , where $c,\\,h$ , and $w$ represent the channel, height, and width of the image, respectively. First, we extract the latent features $F_{l}^{\\'}\\in\\mathbb{R}^{4\\times h/8\\times w/8}$ of the source image from the frozen VAE encoder while simultaneously extracting the high-level semantic features $\\check{F_{H}}\\in\\mathbb{R}^{n\\times d}$ of the person image from the frozen image encoder, where $n$ and $d$ denote the token length and each token dimension, respectively. Then, we convert latent features $F_{l}$ into texture features $F_{L}\\in\\mathbb{R}^{m\\times d}$ through a learnable tokenizer layer consisting of a 2D convolution and a flattened operation, where $m$ stand for the length of $F_{L}$ token. We ensure that the dimension of each token from the texture features $F_{L}$ matches the dimension of each token from the semantic features $F_{H}$ through the kernel size of the 2D convolution. Finally, according to Eq. 3, we concatenate $F_{L}$ and $F_{H}$ along the token length to obtain the person\u2019s appearance features. ", "page_idx": 3}, {"type": "equation", "text": "$$\nF_{C}=c o n c a t(F_{L},F_{H}),\n$$", "text_format": "latex", "page_idx": 3}, {"type": "text", "text": "where $F_{C}\\,\\in\\,\\mathbb{R}^{(m+n)\\times d}$ . Therefore, FLC leverages the frozen VAE encoder\u2019s ability to preserve detailed information, addressing the issue of not having a dedicated person image feature extractor. ", "page_idx": 3}, {"type": "text", "text": "3.3 Image-Level Conditioning Module ", "text_level": 1, "page_idx": 4}, {"type": "text", "text": "As previously mentioned, existing methods only support the generation setting of one source image and one target pose, which limits user expectations in other use scenarios. To address this, we propose the ILC module to inject a random variable number of source image conditions and introduce a masking strategy to adapt to different user scenarios. As shown in Figure 3(a), when generating three target images based on three target poses, the ILC first masks the three target images to be generated, then combines them with one source image to form a joint mask, while extracting the target pose from the source image and combining it with the three given target poses to form a joint pose; As shown in Figure 3(b), when generating a target image based on three source images, the ILC first masks one target image and then combines it with three source images to form a joint mask while extracting the poses from the three source images and combining them with one given target pose to form a joint pose. This achieves a one-to-one correspondence between the person\u2019s image and pose. ", "page_idx": 4}, {"type": "image", "img_path": "6IyYa4gETN/tmp/7110d1c33d0c1f4de663e594ff4c6a8135015907a133cedf939b45111fb895dd.jpg", "img_caption": ["(b) Generating a target image from multi-view source image prompts. Figure 3: The masking strategy flexibly unify different user scenarios. "], "img_footnote": [], "page_idx": 4}, {"type": "text", "text": "", "page_idx": 4}, {"type": "text", "text": "Specifically, we use a frozen VAE to extract latent space features from the joint target and add noise to obtain the noise latent. Similarly, we use a frozen VAE to get the masked latent from the joint mask. The ILC module concatenates the noise latent and masked latent along the channel dimension. Then, we introduce a binary mask, the width and height of which are the same as the noise latent, with 0 and 1 representing the masked and unmasked parts, respectively. This ensures that the model correctly distinguishes the areas of the target image to be generated. Therefore, the input channels of our model are 9, with the channel numbers of noise latent and masked latent both being 4, and the binary mask being 1. Besides, noted that existing methods ignore the image-level conditions of the source image and only inject the feature-level conditions of the source image through the cross-attention module. In contrast, as shown in Figure 2(b), we inject the image-level conditions of the source image combined with the masking strategy, achieving richer inherent context information and spatial structure alignment between the person\u2019s image and pose. ", "page_idx": 4}, {"type": "text", "text": "3.4 Cross-View Attention Module ", "text_level": 1, "page_idx": 4}, {"type": "text", "text": "To ensure that each target image in the generated joint objectives possesses realistic visual content and maintains consistency in the person subject images, inspired by [2, 10], we propose a cross-view attention (CVA) module to decompose global and local cross-attention. As shown in Figure 2, the ", "page_idx": 4}, {"type": "image", "img_path": "6IyYa4gETN/tmp/4eed03f0c4f4223758a13c01d04aa1df496dec11a8d735df2a16c48de2d273ff.jpg", "img_caption": ["Figure 4: Illustration of the CVA module. "], "img_footnote": [], "page_idx": 4}, {"type": "text", "text": "CVA module is embedded after each cross-attention module in the denoising UNet. The schematic diagram of the CVA module is shown in Figure 4, which mainly consists of the split, projection layer, self-attention layer, and joint. We first take the output of the feature by cross-attention as the input features of CVA, split the global input features into four smaller local person features, and then add a new temporal dimension to learn the attention between each local character image. Subsequently, the four person features are reshaped back into one global output feature, ignoring the temporal dimension. This approach allows IMAGPose to capture both global and local attention, providing a more nuanced understanding of the relationships between different parts of the persons\u2019 image. ", "page_idx": 4}, {"type": "text", "text": "For the pose condition, we introduced a pose encoder identical to ControlNet 2 for injection after the first convolutional layer. Therefore, the loss function $L_{\\mathrm{MSE}}$ of IMAGPose according to Eq. 4, as follows. Here, $F_{C}$ , $F_{I}$ and $F_{P}$ denote the feature of the FLC module, the feature of the ILC module and pose feature, respectively. ", "page_idx": 4}, {"type": "equation", "text": "$$\n\\begin{array}{r}{L_{\\mathrm{MSE}}=\\mathbb{E}_{x_{0},\\epsilon,F_{C},F_{I},F_{P},t}\\|\\epsilon-\\epsilon_{\\theta}\\big(x_{t},F_{C},F_{I},F_{P},t\\big)\\|^{2}.}\\end{array}\n$$", "text_format": "latex", "page_idx": 4}, {"type": "text", "text": "In the inference stage, we use classifier-free guidance according to Eq. 5. ", "page_idx": 4}, {"type": "equation", "text": "$$\n\\begin{array}{r}{\\hat{\\epsilon}_{\\theta}(x_{t},F_{C},F_{I},F_{P},t)=w\\epsilon_{\\theta}(x_{t},F_{C},F_{I},t)+(1-w)\\epsilon_{\\theta}(x_{t},F_{P},t).}\\end{array}\n$$", "text_format": "latex", "page_idx": 4}, {"type": "table", "img_path": "6IyYa4gETN/tmp/abe6d39e6d435300c918f070c981ee4194ee11c812b73753fe58aed79a20ac3a.jpg", "table_caption": ["Table 1: Quantitative comparison of the proposed IMAGPose with several state-of-the-art models. "], "table_footnote": [], "page_idx": 5}, {"type": "text", "text": "4 Experiments ", "text_level": 1, "page_idx": 5}, {"type": "text", "text": "Datasets. We conducted experiments on the DeepFashion dataset [21], which consists of 52,712 high-resolution images of fashion models, and the Market-1501 dataset [54], which includes 32,668 low-resolution images with diverse backgrounds, viewpoints, and lighting conditions. We extracted the skeletons using OpenPose [3] and followed the dataset splits provided by [1]. It\u2019s important to note that the person IDs of the training and testing sets do not overlap for both datasets. ", "page_idx": 5}, {"type": "text", "text": "Metrics. We conducted a comprehensive evaluation of the model, including both objective and subjective metrics. Objective metrics include the structural similarity index measure (SSIM) [46], learned perceptual image patch similarity (LPIPS) [52], and fr\u00e9chet inception distance (FID) [12]. On the other hand, subjective assessments focus on user-oriented metrics, such as the percentage of real images misclassified as generated (R2G) [24], the percentage of generated images misclassified as real (G2R) [24], and the percentage of images considered superior among all models (Jab) [37]. ", "page_idx": 5}, {"type": "text", "text": "Implementations. We conduct experiments on 8 NVIDIA V100 GPUs. Our configuration can be summarized as follows: (a) We use the pre-trained Stable Diffusion $\\mathrm{V}1.5~^{3}$ and modified the first convolutional layer to accommodate additional conditions. Unless otherwise specified, we use Dinov2-G/14 4 as the image encoder. In the tokenizer layer, both the kernel size and stride of the 2D convolution are 16, and the dimensions of the input and output channels are 4 and 768, respectively. (b) Following [1, 36], we train our model on the DeepFashion dataset with sizes of $256\\times176$ and $512\\times352$ . For the Market-1501 dataset, we used images of size $128\\times64$ . (c) In the masking strategy, we defaulted to randomly occluding 1-4 images. (d) The model is trained for $300\\mathrm{k}$ steps using the AdamW optimizer with a learning rate of $5e^{-5}$ . Each batch size is 4, and a linear noise schedule of 1000 time steps is applied. (e) In the inference stage, we used a DDIM sampler with 20 steps, and set $w$ to 2.0 in the guidance scale. ", "page_idx": 5}, {"type": "text", "text": "4.1 Main Results ", "text_level": 1, "page_idx": 5}, {"type": "text", "text": "IMAGPose supports generating one or multiple target images under different conditions based on user scenarios. For a fair comparison and adaptation to the IMAGPose framework, we use three black images for padding in the masking strategy and replicate the target pose 3 times in the joint pose during the inference stage. Then IMAGPose generates 3 same target images, and we randomly select one generated image for qualitative and quantitative evaluation. Unless otherwise specified, the above settings are the default configurations. ", "page_idx": 5}, {"type": "image", "img_path": "6IyYa4gETN/tmp/cab191df510fee56383d4a8c1b2d8aa9a157ec55b38859f51b5c3df72e6b619b.jpg", "img_caption": ["Figure 5: Qualitative comparisons with several state-of-the-art models on the DeepFashion dataset. "], "img_footnote": [], "page_idx": 6}, {"type": "text", "text": "", "page_idx": 6}, {"type": "text", "text": "Quantitative Results. From Table 1, we quantitatively compared proposed IMAGPose with several state-of-the-art methods including Def-GAN [37], PATN [57], ADGAN [25], PISE [49], GFLA [30], DPTN [51], NTED [29], CocosNet2 [55], CASD [56], PoCoLD [11], PIDM [1], PCDMs [36] and CFLD [22]. Compared to other generative methods, based on diffusion models [11, 1, 36, 22] perform significantly better, especially proposed IMAGPose, which outperforms all methods. For example, IMAGPose significantly leads the GAN-based method ADGAN on the SSIM metric since the GAN framework\u2019s unstable training fails to generate high-quality images. Compared to CFLD, which is also based on a diffusion model framework, IMAGPose demonstrates absolute performance advantages at both $256\\times176$ and $512\\times352$ scales. Because existing architectures overlook texture details and only inject appearance features using a generic image encoder. ", "page_idx": 6}, {"type": "text", "text": "Table 1 also shows the quantitative results on the Market-1501. Like the DeepFashion, IMAGPose outperforms all SOTA methods in SSIM, LPIPS, and FID. Compared to NTED, which uses finegrained texture features, ours shows more significant advantages, thanks to VAE\u2019s inherent ability to reconstruct low-level texture. Despite PCDMs\u2019 additional refinement model, IMAGPose provides richer context information by injecting source image features at both image and feature levels. ", "page_idx": 6}, {"type": "text", "text": "Qualitative Results. Figure 5 visually compares our IMAGPose with other SOTA methods on the DeepFashion dataset. The results lead to several conclusions: (1) As shown in the first to third rows, diffusion-based methods capture minute clothing textures, but IMAGPose generates higher-quality details than other diffusion models. (2) In cases of large-scale pose transformations (as shown in the fourth and fifth rows), CFLD and PCDMs exhibit clear overfitting to the pose (i.e., objects do not should appear on the hand ), only our method can generate images aligned with the target and consistent in detail texture. (3) As shown in the sixth to seventh rows, when generating complex textures and invisible areas, IMAGPose reasonably infers detailed textures, providing better visual consistency even if the results are inconsistent with the target. In summary, the proposed method consistently produces more realistic and lifelike person images, demonstrating the advantages of the image-level and feature-level conditions proposed by IMAGPose. Please see C.1 for more examples. ", "page_idx": 6}, {"type": "text", "text": "User Study. The above quantitative and qualitative comparisons reflect the significant advantages of IMAGPose in generating results. Further, we conducted a user study with 50 volunteers. This study includes comparisons with basic facts (i.e., R2G and G2R) and other methods (i.e., J2b). The higher the score for these three indicators, the better the performance. As shown in Figure 6, IMAGPose exhibits commendable performance on all three indicators on the DeepFashion dataset. For instance, volunteers judged our generated images as $58.5\\%$ (G2R) real images, nearly $18.4\\%$ higher than the second-best model. The proposed IMAGPose scored $42.3\\%$ on the Jab index, indicating our method is more popular. Please see C.3 of the Appendix for more detail. ", "page_idx": 7}, {"type": "image", "img_path": "6IyYa4gETN/tmp/b4d42a28724caeb5a037e60f3d1014fe0bec6b79adb1e4235d22df036e12a1d8.jpg", "img_caption": ["Figure 6: User study results on DeepFashion in terms of R2G, G2R and Jab metric. Higher values in these three metrics indicate better performance. "], "img_footnote": [], "page_idx": 7}, {"type": "text", "text": "", "page_idx": 7}, {"type": "text", "text": "Uniformity. IMAGPose only needs to be trained once to support multiple user scenarios. Here, IMAGPose simulates two user scenarios: generating a target image given a source image and a target pose, and generating a target image given multiple source images and a target pose. As shown in Figure 7, both T1 and T2 provide one source image and one target pose, similar to the previous SOTA. The difference is that T1 replicates the target pose in the joint pose, while T2 replicates the source image in the joint image. T3 randomly uses multiple different source images. ", "page_idx": 7}, {"type": "image", "img_path": "6IyYa4gETN/tmp/e048c616ca49e5e94346443657a2b05c86304863cb8397f6bdf297d60742607c.jpg", "img_caption": ["Figure 7: Quantitative comparison of IMAGPose under different user scenarios on the DeepFashion dataset. "], "img_footnote": [], "page_idx": 7}, {"type": "text", "text": "We found that under these 3 different settings, compared to Table 1, T1, T2, and T3 demonstrate strong competitiveness on all metrics, indicating that IMAGPose can adapt to the above scenarios only once training. For example, T2 surpasses all previous SOTA methods and beats T1, suggesting the ILC module can effectively capture the appearance features of a person by replicating the same source image multiple times during the inference stage. Then, when using multiple different source images to generate a target image, T3 achieves 0.7727, 0.1172, and 5.3286 on SSIM, LPIPS, and FID, respectively, outperformers T2 and other SOTA methods, indicating that IMAGPose has uniformity when provided multiple different source images. ", "page_idx": 7}, {"type": "text", "text": "Furthermore, IMAGPose can also adapt to the other scenario: generating multiple target images from a source image and multiple target poses, i.e., IMAGPose\\* in Figure 8. Compared with the original IMAGPose, IMAGPose\\* slightly reduces the SSIM performance but still surpasses other diffusion model-based methods, which proves that even when inferring multiple different target images at once, IMAGPose\\* can still maintain high quality and fidelity. Regarding speed, due to the architectural advantage of the masking strategy in ILC, it is nearly 8 times faster than PIDM, and nearly 3 times faster than PoCoLD and CFLD. Noted that both the default settings of IMAGPose and IMAGPose\\* are highly competitive regarding generation quality and speed. Therefore, once our method is trained, users can choose the appropriate inference settings according to their needs in different scenarios. The visual results of IMAGPose in different user scenarios are shown in Figure 9, which is consistent with our above analysis. Overall, IMAGPose can unify different tasks in real-world scenarios. For more results and discussions, please refer to C.2 of the Appendix. ", "page_idx": 7}, {"type": "image", "img_path": "6IyYa4gETN/tmp/746bd297c239df19bed98058bab0ccd366a6514526d68ac6da0138c6258f62b1.jpg", "img_caption": ["Figure 8: Results of speed and performance. "], "img_footnote": [], "page_idx": 7}, {"type": "text", "text": "", "page_idx": 7}, {"type": "text", "text": "4.2 Ablations ", "text_level": 1, "page_idx": 7}, {"type": "text", "text": "Effectiveness of the Module. Table 2 demonstrates the impact of different modules on the results of IMAGPose. B0 denotes IMAGPose removes the CVA module, the texture features from the VAE in the FLC module, and the image-level conditions in the ILC module, which results in a model with only 5 input channels. B1 represents, based on B0, the addition of the CVA module. B2 denotes, based on B0, adding the VAE\u2019s texture detail features, resulting in a complete FLC module. B3 indicates, ", "page_idx": 7}, {"type": "image", "img_path": "6IyYa4gETN/tmp/701886725b29e236e4c7509d69243c83b26309e20416027a3bf01aade56b8614.jpg", "img_caption": ["Figure 9: Visual comparison of our model\u2019s uniformity across different user scenarios. "], "img_footnote": [], "page_idx": 8}, {"type": "text", "text": "based on B1, that adding image-level conditions forms a complete ILC module with 9 input channels.   \nB4 represents IMAGPose using both the FLC and ILC modules, while ignoring the CVA module. ", "page_idx": 8}, {"type": "text", "text": "As shown in Table 2, IMAGPose outperforms other settings on three metrics and gradually improves performance as more modules are included. Specifically, B1 surpasses B0 on SSIM, LPIPS, and FID, indicating that the CVA module can enhance local fidelity and global consistency. B2 and B3 outperform B1 by 0.0125 and 0.0172 on SSIM, suggesting that FLC and ILC can effectively provide exemplary texture detail guidance and ensure alignment of images and poses. Moreover, noted that the combination of the three modules brings additional performance improvements. For example, our method outperforms B2, B3, and B4 on all metrics, respectively. ", "page_idx": 8}, {"type": "table", "img_path": "6IyYa4gETN/tmp/7874f07ba286ccc6ee5c0de4c62f74add696cd0914e05f254b0844269572b519.jpg", "table_caption": ["Table 2: Ablation study on DeepFashion. "], "table_footnote": [], "page_idx": 8}, {"type": "text", "text": "", "page_idx": 8}, {"type": "text", "text": "Model Variant. Table 3 summarizes the variants based on IMAGPose. We keep other settings unchanged and only modify the base model and image encoder. The overall performance differences between various versions of the base diffusion model and image encoder are insignificant, indicating that the base diffusion model and image encoder have a minimal impact on the results of the generated images. Specifically, the results suggest that when \u2018Base.\u2019 is SD V1.5, Dinov2-G/14 slightly outperforms on all metrics. Furthermore, when using the same image encoder, SD V2.1 is superior to SD V1.5 in most cases. ", "page_idx": 8}, {"type": "table", "img_path": "6IyYa4gETN/tmp/854d5db9d139d445a2444aa1cef9a81e00fb0a48071cb0e42c15873f94de03c1.jpg", "table_caption": ["Table 3: Performance of variant version. "], "table_footnote": [], "page_idx": 8}, {"type": "text", "text": "4.3 Application ", "text_level": 1, "page_idx": 8}, {"type": "text", "text": "Table 4 evaluates the applicability of images generated by IMAGPose in downstream tasks, i.e., person re-identification. Initially, we randomly selected $20\\%$ , $40\\%$ , $60\\%$ , and $80\\%$ subsets from the training set of the Market-1501 dataset, ensuring at least one image per identity, thereby creating a new dataset. We adopt BoT [23] as the base network and perform baseline training on each data subset for a fair comparison. Then, we incorporate images generated by IMAGPose. These generated images are synthesized from randomly selected images with the same identity and pose from the new dataset. The Rank1 results are shown in Table 4. The experimental results indicate that the IMAGPose algorithm significantly improves re-identification performance compared to the Standard. Moreover, IMAGPose consistently demonstrates superior performance in re-identification tasks compared to SOTA methods. ", "page_idx": 8}, {"type": "table", "img_path": "6IyYa4gETN/tmp/63beef20bb1cf8d343497579cbf1cc0491ddc6d70ffc39a33f621582054f694b.jpg", "table_caption": ["Table 4: Comparison with SOTA on person re-identification. Standard denotes not using generated person images. "], "table_footnote": [], "page_idx": 8}, {"type": "text", "text": "", "page_idx": 8}, {"type": "text", "text": "5 Conclusion ", "text_level": 1, "page_idx": 8}, {"type": "text", "text": "This paper presents IMAGPose, a unified conditional framework for pose-guided image generation. This framework addresses the limitations of existing methods by enabling the generation of multiple target images with different poses simultaneously and from multi-view source images. IMAGPose incorporates three pivotal modules: a Feature-Level Conditioning (FLC) module, an Image-Level Conditioning (ILC) module, and a Cross-View Attention (CVA) module. The FLC module effectively combines low-level texture features with high-level semantic features, addressing the issue of missing detail information. The ILC module aligns images and poses to adapt to diverse user scenarios, while the CVA module ensures local fidelity and global consistency when multiple source image prompts. The proposed framework has demonstrated competitive performance in both qualitative and quantitative evaluations, showing consistency and photorealism under challenging user scenarios. This work represents a significant step forward in the field of image generation, opening up new possibilities for user interaction and customization. Limitations. (1) IMAGPose supports generating images in different user scenarios and significantly improves the synthesis quality. However, due to computational limitations, IMAGPose currently supports generating up to four images at a time. Future work will continue to explore how to generate more target images in one forward process. (2) The performance of the model is subpar for generating cartoon characters and non-photorealistic styles because our training data consists of photorealistic human images for fair comparison. In future work, we plan to include a broader range of data and design style transformation modules to overcome this bias. ", "page_idx": 8}, {"type": "text", "text": "", "page_idx": 9}, {"type": "text", "text": "Acknowledgments and Disclosure of Funding ", "text_level": 1, "page_idx": 9}, {"type": "text", "text": "This work is supported by the National Natural Science Foundation of China (Grant No. 61925204, and 62332010). The authors would thank all Reviewers and ACs of OpenReview for the thorough review and insightful suggestions. ", "page_idx": 9}, {"type": "text", "text": "References ", "text_level": 1, "page_idx": 9}, {"type": "text", "text": "[1] Ankan Kumar Bhunia, Salman Khan, Hisham Cholakkal, Rao Muhammad Anwer, Jorma Laaksonen, Mubarak Shah, and Fahad Shahbaz Khan. Person image synthesis via denoising diffusion model. In Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition, pages 5968\u20135976, 2023.   \n[2] Andreas Blattmann, Robin Rombach, Huan Ling, Tim Dockhorn, Seung Wook Kim, Sanja Fidler, and Karsten Kreis. Align your latents: High-resolution video synthesis with latent diffusion models. In Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition, pages 22563\u2013 22575, 2023.   \n[3] Zhe Cao, Tomas Simon, Shih-En Wei, and Yaser Sheikh. Realtime multi-person 2d pose estimation using part affinity fields. In Proceedings of the IEEE conference on computer vision and pattern recognition, pages 7291\u20137299, 2017.   \n[4] Antonia Creswell, Tom White, Vincent Dumoulin, Kai Arulkumaran, Biswa Sengupta, and Anil A Bharath. Generative adversarial networks: An overview. IEEE signal processing magazine, 35(1):53\u201365, 2018.   \n[5] Jisheng Dang, Huicheng Zheng, Jinming Lai, Xu Yan, and Yulan Guo. Efficient and robust video object segmentation through isogenous memory sampling and frame relation mining. IEEE Transactions on Image Processing, 32:3924\u20133938, 2023.   \n[6] Jisheng Dang, Huicheng Zheng, Xiaohao Xu, Longguang Wang, and Yulan Guo. Beyond appearance: Multi-frame spatio-temporal context memory networks for efficient and robust video object segmentation. IEEE Transactions on Image Processing, 33:4853\u20134866, 2024.   \n[7] Jisheng Dang, Huicheng Zheng, Xiaohao Xu, Longguang Wang, Qingyong Hu, and Yulan Guo. Adaptive sparse memory networks for efficient and robust video object segmentation. IEEE Transactions on Neural Networks and Learning Systems, 2024.   \n[8] Patrick Esser, Ekaterina Sutter, and Bj\u00f6rn Ommer. A variational u-net for conditional appearance and shape generation. In Proceedings of the IEEE conference on computer vision and pattern recognition, pages 8857\u20138866, 2018.   \n[9] Artur Grigorev, Artem Sevastopolsky, Alexander Vakhitov, and Victor Lempitsky. Coordinate-based texture inpainting for pose-guided human image generation. In Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition, pages 12135\u201312144, 2019.   \n[10] Yuwei Guo, Ceyuan Yang, Anyi Rao, Yaohui Wang, Yu Qiao, Dahua Lin, and Bo Dai. Animatediff: Animate your personalized text-to-image diffusion models without specific tuning. arXiv preprint arXiv:2307.04725, 2023.   \n[11] Xiao Han, Xiatian Zhu, Jiankang Deng, Yi-Zhe Song, and Tao Xiang. Controllable person image synthesis with pose-constrained latent diffusion. In Proceedings of the IEEE/CVF International Conference on Computer Vision, pages 22768\u201322777, 2023.   \n[12] Martin Heusel, Hubert Ramsauer, Thomas Unterthiner, Bernhard Nessler, and Sepp Hochreiter. Gans trained by a two time-scale update rule converge to a local nash equilibrium. Advances in neural information processing systems, 30, 2017.   \n[13] Jonathan Ho, Ajay Jain, and Pieter Abbeel. Denoising diffusion probabilistic models. In NeurIPS, 2020.   \n[14] Jonathan Ho, Ajay Jain, Pieter Abbeel, and UC Berkeley. Denoising diffusion probabilistic models.   \n[15] Jonathan Ho and Tim Salimans. Classifier-free diffusion guidance. arXiv preprint arXiv:2207.12598, 2022.   \n[16] Siyu Huang, Haoyi Xiong, Zhi-Qi Cheng, Qingzhong Wang, Xingran Zhou, Bihan Wen, Jun Huan, and Dejing Dou. Generating person images with appearance-aware pose stylizer. arXiv preprint arXiv:2007.09077, 2020.   \n[17] Diederik P Kingma and Max Welling. Auto-encoding variational bayes. arXiv preprint arXiv:1312.6114, 2013.   \n[18] FirstName LastName. Frobnication tutorial, 2014. Supplied as supplemental material tr.pdf.   \n[19] Yining Li, Chen Huang, and Chen Change Loy. Dense intrinsic appearance flow for human pose transfer. In CVPR, 2019.   \n[20] Hanbing Liu, Jun-Yan He, Zhi-Qi Cheng, Wangmeng Xiang, Qize Yang, Wenhao Chai, Gaoang Wang, Xu Bao, Bin Luo, Yifeng Geng, et al. Posynda: Multi-hypothesis pose synthesis domain adaptation for robust 3d human pose estimation. In Proceedings of the 31st ACM International Conference on Multimedia, pages 5542\u20135551, 2023.   \n[21] Ziwei Liu, Ping Luo, Shi Qiu, Xiaogang Wang, and Xiaoou Tang. Deepfashion: Powering robust clothes recognition and retrieval with rich annotations. In Proceedings of the IEEE conference on computer vision and pattern recognition, pages 1096\u20131104, 2016.   \n[22] Yanzuo Lu, Manlin Zhang, Andy J Ma, Xiaohua Xie, and Jian-Huang Lai. Coarse-to-fine latent diffusion for pose-guided person image synthesis. arXiv preprint arXiv:2402.18078, 2024.   \n[23] Hao Luo, Youzhi Gu, Xingyu Liao, Shenqi Lai, and Wei Jiang. Bag of tricks and a strong baseline for deep person re-identification. In Proceedings of the IEEE/CVF conference on computer vision and pattern recognition workshops, pages 0\u20130, 2019.   \n[24] Liqian Ma, Xu Jia, Qianru Sun, Bernt Schiele, Tinne Tuytelaars, and Luc Van Gool. Pose guided person image generation. In NeurIPS, 2017.   \n[25] Yifang Men, Yiming Mao, Yuning Jiang, Wei-Ying Ma, and Zhouhui Lian. Controllable person image synthesis with attribute-decomposed gan. In Proceedings of the IEEE/CVF conference on computer vision and pattern recognition, pages 5084\u20135093, 2020.   \n[26] Mehdi Mirza and Simon Osindero. Conditional generative adversarial nets. arXiv preprint arXiv:1411.1784, 2014.   \n[27] Chong Mou, Xintao Wang, Liangbin Xie, Yanze Wu, Jian Zhang, Zhongang Qi, and Ying Shan. T2iadapter: Learning adapters to dig out more controllable ability for text-to-image diffusion models. In Proceedings of the AAAI Conference on Artificial Intelligence, volume 38, pages 4296\u20134304, 2024.   \n[28] William Peebles and Saining Xie. Scalable diffusion models with transformers. In Proceedings of the IEEE/CVF International Conference on Computer Vision, pages 4195\u20134205, 2023.   \n[29] Yurui Ren, Xiaoqing Fan, Ge Li, Shan Liu, and Thomas H Li. Neural texture extraction and distribution for controllable person image synthesis. In CVPR, 2022.   \n[30] Yurui Ren, Xiaoming Yu, Junming Chen, Thomas H Li, and Ge Li. Deep image spatial transformation for person image generation. In CVPR, 2020.   \n[31] Robin Rombach, Andreas Blattmann, Dominik Lorenz, Patrick Esser, and Bj\u00f6rn Ommer. High-resolution image synthesis with latent diffusion models. In Proceedings of the IEEE/CVF conference on computer vision and pattern recognition, pages 10684\u201310695, 2022.   \n[32] Fei Shen, Xiaoyu Du, Liyan Zhang, and Jinhui Tang. Triplet contrastive learning for unsupervised vehicle re-identification. arXiv preprint arXiv:2301.09498, 2023.   \n[33] Fei Shen, Xin Jiang, Xin He, Hu Ye, Cong Wang, Xiaoyu Du, Zechao Li, and Jinghui Tang. Imagdressingv1: Customizable virtual dressing. arXiv preprint arXiv:2407.12705, 2024.   \n[34] Fei Shen, Xiangbo Shu, Xiaoyu Du, and Jinhui Tang. Pedestrian-specific bipartite-aware similarity learning for text-based person retrieval. In Proceedings of the 31th ACM International Conference on Multimedia, 2023.   \n[35] Fei Shen, Hu Ye, Sibo Liu, Jun Zhang, Cong Wang, Xiao Han, and Wei Yang. Boosting consistency in story visualization with rich-contextual conditional diffusion models. arXiv preprint arXiv:2407.02482, 2024.   \n[36] Fei Shen, Hu Ye, Jun Zhang, Cong Wang, Xiao Han, and Wei Yang. Advancing pose-guided image synthesis with progressive conditional diffusion models. arXiv preprint arXiv:2310.06313, 2023.   \n[37] Aliaksandr Siarohin, Enver Sangineto, St\u00e9phane Lathuiliere, and Nicu Sebe. Deformable gans for posebased human image generation. In Proceedings of the IEEE conference on computer vision and pattern recognition, pages 3408\u20133416, 2018.   \n[38] Jascha Sohl-Dickstein, Eric Weiss, Niru Maheswaranathan, and Surya Ganguli. Deep unsupervised learning using nonequilibrium thermodynamics. In International conference on machine learning, pages 2256\u20132265. PMLR, 2015.   \n[39] Jiaming Song, Chenlin Meng, and Stefano Ermon. Denoising diffusion implicit models. arXiv: Learning,arXiv: Learning, Oct 2020.   \n[40] Yang Song, Jascha Sohl-Dickstein, Diederik P Kingma, Abhishek Kumar, Stefano Ermon, and Ben Poole. Score-based generative modeling through stochastic differential equations. arXiv preprint arXiv:2011.13456, 2020.   \n[41] Yang Song, Jascha Sohl-Dickstein, DiederikP. Kingma, Abhishek Kumar, Stefano Ermon, and Ben Poole. Score-based generative modeling through stochastic differential equations. International Conference on Learning Representations,International Conference on Learning Representations, May 2021.   \n[42] Hao Tang, Song Bai, Li Zhang, Philip HS Torr, and Nicu Sebe. Xinggan for person image generation. In Computer Vision\u2013ECCV 2020: 16th European Conference, Glasgow, UK, August 23\u201328, 2020, Proceedings, Part XXV 16, pages 717\u2013734. Springer, 2020.   \n[43] Shuyuan Tu, Qi Dai, Zhi-Qi Cheng, Han Hu, Xintong Han, Zuxuan Wu, and Yu-Gang Jiang. Motioneditor: Editing video motion via content-aware diffusion. In Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition, pages 7882\u20137891, 2024.   \n[44] Cong Wang, Kuan Tian, Yonghang Guan, Jun Zhang, Zhiwei Jiang, Fei Shen, Xiao Han, Qing Gu, and Wei Yang. Ensembling diffusion models via adaptive feature aggregation. arXiv preprint arXiv:2405.17082, 2024.   \n[45] Cong Wang, Kuan Tian, Jun Zhang, Yonghang Guan, Feng Luo, Fei Shen, Zhiwei Jiang, Qing Gu, Xiao Han, and Wei Yang. V-express: Conditional dropout for progressive training of portrait video generation. arXiv preprint arXiv:2406.02511, 2024.   \n[46] Zhou Wang, Alan C Bovik, Hamid R Sheikh, and Eero P Simoncelli. Image quality assessment: from error visibility to structural similarity. IEEE transactions on image processing, 13(4):600\u2013612, 2004.   \n[47] Hu Ye, Jun Zhang, Sibo Liu, Xiao Han, and Wei Yang. Ip-adapter: Text compatible image prompt adapter for text-to-image diffusion models. arXiv preprint arXiv:2308.06721, 2023.   \n[48] Mang Ye, Jianbing Shen, Gaojie Lin, Tao Xiang, Ling Shao, and Steven CH Hoi. Deep learning for person re-identification: A survey and outlook. IEEE transactions on pattern analysis and machine intelligence, 44(6):2872\u20132893, 2021.   \n[49] Jinsong Zhang, Kun Li, Yu-Kun Lai, and Jingyu Yang. Pise: Person image synthesis and editing with decoupled gan. In CVPR, 2021.   \n[50] Lvmin Zhang and Maneesh Agrawala. Adding conditional control to text-to-image diffusion models. arXiv preprint arXiv:2302.05543, 2023.   \n[51] Pengze Zhang, Lingxiao Yang, Jian-Huang Lai, and Xiaohua Xie. Exploring dual-task correlation for pose guided person image generation. In CVPR, 2022.   \n[52] Richard Zhang, Phillip Isola, Alexei A Efros, Eli Shechtman, and Oliver Wang. The unreasonable effectiveness of deep features as a perceptual metric. In Proceedings of the IEEE conference on computer vision and pattern recognition, pages 586\u2013595, 2018.   \n[53] Bo Zhao, Xiao Wu, Zhi-Qi Cheng, Hao Liu, Zequn Jie, and Jiashi Feng. Multi-view image generation from a single-view. In Proceedings of the 26th ACM international conference on Multimedia, pages 383\u2013391, 2018.   \n[54] Liang Zheng, Liyue Shen, Lu Tian, Shengjin Wang, Jingdong Wang, and Qi Tian. Scalable person re-identification: A benchmark. In ICCV, 2015.   \n[55] Xingran Zhou, Bo Zhang, Ting Zhang, Pan Zhang, Jianmin Bao, Dong Chen, Zhongfei Zhang, and Fang Wen. Cocosnet v2: Full-resolution correspondence learning for image translation. In CVPR, 2021.   \n[56] Xinyue Zhou, Mingyu Yin, Xinyuan Chen, Li Sun, Changxin Gao, and Qingli Li. Cross attention based style distribution for controllable person image synthesis. In European Conference on Computer Vision, pages 161\u2013178. Springer, 2022.   \n[57] Zhen Zhu, Tengteng Huang, Baoguang Shi, Miao Yu, Bofei Wang, and Xiang Bai. Progressive pose attention transfer for person image generation. In Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition, pages 2347\u20132356, 2019. ", "page_idx": 9}, {"type": "text", "text": "", "page_idx": 10}, {"type": "text", "text": "", "page_idx": 11}, {"type": "text", "text": "", "page_idx": 12}, {"type": "text", "text": "Supplementary Material ", "text_level": 1, "page_idx": 13}, {"type": "text", "text": "This supplementary material offers a more detailed exploration of the experiments and methodologies proposed in the main paper. Section A provides a series of symbols and definitions for enhanced comprehension. Section B delves deeper into the implementation specifics of our experiments. Section C presents additional experimental outcomes, including a broader range of qualitative comparison examples with state-of-the-art methods, more results on different user scenarios, and a detailed explanation of our user studies. Section D discusses potential societal harms and impacts. ", "page_idx": 13}, {"type": "text", "text": "A Some Notations and Definitions ", "text_level": 1, "page_idx": 13}, {"type": "text", "text": "The notations and definitions used in this paper are shown in Table 5. ", "page_idx": 13}, {"type": "table", "img_path": "6IyYa4gETN/tmp/26aec84dbe1c014ebda95131ffd5f900830f6d83ea52f2b8152e270c8996ab2f.jpg", "table_caption": [], "table_footnote": [], "page_idx": 13}, {"type": "text", "text": "B Implement Details ", "text_level": 1, "page_idx": 13}, {"type": "table", "img_path": "6IyYa4gETN/tmp/e32fe803b2d8b3704ee3cd846e6f0c12d68a5135cb813feb3bfe0dce6e220385.jpg", "table_caption": ["Table 6: Hyperparameters for the IMAGPose. "], "table_footnote": [], "page_idx": 13}, {"type": "text", "text": "As shown in Table 6, our experiments are conducted on 8 NVIDIA V100 GPUs. We use the pretrained Stable Diffusion V1.5 and modify the first convolutional layer to accommodate additional conditions. Dinov2-G/14 is used as the image encoder. In the tokenizer layer, we set both the kernel size and stride of the 2D convolution to 16, and the dimensions of the input and output channels are set to 4 and 768, respectively. We introduce a pose encoder identical to ControlNet, injected after the first convolutional layer, to handle the pose condition. Our model is trained on the DeepFashion dataset, following previous studies, with image sizes of 256x176 and $512\\mathrm{x}352$ . For the Market-1501 dataset, we use images of size $128\\mathrm{x}64$ . As part of our masking strategy, we default to randomly occluding 1-4 images. The model is trained for $300\\mathbf{k}$ steps using the AdamW optimizer with a learning rate 5e-5. We use a batch size of 4 and apply a linear noise schedule of 1000 time steps. During the inference stage, we use a DDIM sampler with 20 steps and set the guidance scale to 2.0. ", "page_idx": 13}, {"type": "text", "text": "C Additional Results ", "text_level": 1, "page_idx": 14}, {"type": "text", "text": "C.1 More Qualitative Comparisons for IMAGPose ", "page_idx": 14}, {"type": "text", "text": "We provide additional examples for comparison with the state-of-the-art (SOTA) methods in Figure 10. ", "page_idx": 14}, {"type": "image", "img_path": "6IyYa4gETN/tmp/bdd8ff703e3d620813736d4a3ce9927adadb0674972662f83827338cef66af82.jpg", "img_caption": ["Figure 10: More qualitative comparisons between IMAGPose and SOTA methods on the DeepFashion dataset. "], "img_footnote": [], "page_idx": 14}, {"type": "image", "img_path": "6IyYa4gETN/tmp/48cf04571aca32c8142e4e5a33d89faacb2df94cc7bb0a3d4d71f7ee100b61eb.jpg", "img_caption": [], "img_footnote": [], "page_idx": 15}, {"type": "text", "text": "Figure 11: (a) The schematic diagram of the common frameworks based on existing diffusion models can only support generating a target image from a single source image and a single target pose. (b) During the development of IMAGPose, we devised a proprietary model to address the scenarios of generating multiple target images with different poses simultaneously. ", "page_idx": 15}, {"type": "table", "img_path": "6IyYa4gETN/tmp/d2783e52ee3ac23b7c5024e0cdf5ec38b1291c19076ef4a75d3145aa331f76c8.jpg", "table_caption": ["Table 7: Comparison results between different architectures on DeepFashion. "], "table_footnote": [], "page_idx": 15}, {"type": "text", "text": "C.2 More Discussion on Different User Scenarios ", "text_level": 1, "page_idx": 15}, {"type": "text", "text": "As discussed in the main text, previous pose-guided image generation methods only support scenarios where a target image is generated from a single source image and a target pose, as shown in Figure 11 (a). However, in practical user scenarios, it is also common and important to generate multiple target images with different poses, as shown in Figure 1. To address these scenarios, we develop a proprietary models M1 to generate multiple target images with different poses simultaneously during the development of IMAGPose, as shown in Figure 11(b). Similar to [2, 10], M1 concatenates different noise latents along the batch dimension. Then, we chose the PIDM [1] based on the diffusion model as the representative for generating a target image from a single source image and a target pose. M1 model are also included in our additional comparisons, as shown in Table 7. ", "page_idx": 15}, {"type": "text", "text": "The results in Table 7 indicate that while we can address the generation of target images from multiple target poses by training a dedicated model M1, this approach increases the training burden and introduces complexity for users. Users must continually switch between models to meet their specific needs when generating target images. Moreover, from a performance metric perspective, the dedicated model M1 does not offer any advantages, as it only injects semantic information from the source image using a frozen image encoder. Most importantly, none of the current frameworks support the task of generating target images through multiple image prompts. In contrast, our proposed ILC module introduces a masking strategy to unify target image generation under different user scenarios. As shown in Figure 2 (b), we also incorporate the masking strategy to inject image-level conditions from the source image, and enhance the texture features of the VAE to achieve richer context information and alignment between the image and pose. ", "page_idx": 15}, {"type": "text", "text": "As previously mentioned, once IMAGPose is trained, it can accommodate different user scenarios. For generating a target image from a single source image and a target pose, IMAGPose only needs to replicate the target pose multiple times in the joint pose during inference. For generating multiple target images from a single source image and multiple target poses at once, IMAGPose only needs to combine different poses in the joint pose during inference. For generating a target image from multiple source images and a single target pose, IMAGPose only needs to combine different source images in the joint image during inference. Therefore, IMAGPose has the ability to unify pose-guided image generation under different user scenarios. ", "page_idx": 15}, {"type": "text", "text": "C.3 User Study ", "text_level": 1, "page_idx": 16}, {"type": "text", "text": "To validate the disparity between the generated images and the real ones, and to evaluate the superiority of our method compared to existing technologies, we conducted a user study involving 50 volunteers. (1) For the R2G and G2R metrics, we selected 40 test samples at random and used each model to generate a corresponding set of images. The volunteers were tasked with distinguishing between the 40 generated images and 40 real images. (2) For the Jab metric, we randomly selected 40 pairs of source images and target poses, and each model was tested to generate a corresponding set of images. The users were then asked to select the highest quality and most faithful image from the side-by-side views. The user study allowed us to evaluate which model produced the most realistic results based on human perception. Example questions are illustrated in 13. ", "page_idx": 16}, {"type": "text", "text": "D Ethics Statement ", "text_level": 1, "page_idx": 16}, {"type": "text", "text": "In this paper, we propose IMAGPose, a unified conditional framework designed to cater to various user scenarios for generating different human images. However, it is well-known that virtually all methods of human image synthesis, including ours, can be misused by malicious actors to create false content and disseminate misinformation. This is a significant concern that we fully acknowledge. Nevertheless, substantial progress has been made in the field of detecting and preventing such malicious tampering. Our work aims to provide valuable support for research and external audits in this area, helping to strike a balance between the value of our technology and the risks associated with unrestricted access. This ensures that our technology can be used safely and beneficially. ", "page_idx": 16}, {"type": "image", "img_path": "6IyYa4gETN/tmp/c1265c5b98ce18febca73d152d01c2eff06a7903db361b0c09ff400d593e6c80.jpg", "img_caption": ["Figure 12: More visual comparison of our model\u2019s uniformity across different user scenarios. "], "img_footnote": [], "page_idx": 17}, {"type": "image", "img_path": "6IyYa4gETN/tmp/9419a4f312fb63636b0a74443a5e6a5fc11a4e653eaed8a27b577e5f1a7a8783.jpg", "img_caption": [], "img_footnote": [], "page_idx": 18}, {"type": "text", "text": "Figure 13: An example question used in our user study for pose-guided person image synthesis. ", "page_idx": 18}, {"type": "text", "text": "NeurIPS Paper Checklist ", "text_level": 1, "page_idx": 18}, {"type": "text", "text": "1. Claims ", "text_level": 1, "page_idx": 18}, {"type": "text", "text": "Question: Do the main claims made in the abstract and introduction accurately reflect the paper\u2019s contributions and scope? ", "page_idx": 18}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 18}, {"type": "text", "text": "Justification: The abstract and introduction clearly articulate that existing works have overlooked the user scenarios of pose-guided image generation. To address this issue, IMAGPose is proposed. Extensive experiments have validated the effectiveness of IMAGPose. ", "page_idx": 18}, {"type": "text", "text": "2. Limitations ", "text_level": 1, "page_idx": 18}, {"type": "text", "text": "Question: Does the paper discuss the limitations of the work performed by the authors? ", "page_idx": 18}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 18}, {"type": "text", "text": "Justification: In the conclusion section, we have included a discussion of the limitations and potential directions for future work. ", "page_idx": 18}, {"type": "text", "text": "3. Experimental Result Reproducibility ", "text_level": 1, "page_idx": 18}, {"type": "text", "text": "Question: Does the paper fully disclose all the information needed to reproduce the main experimental results of the paper to the extent that it affects the main claims and/or conclusions of the paper (regardless of whether the code and data are provided or not)? ", "page_idx": 18}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 18}, {"type": "text", "text": "Justification: We have detailed the hyperparameters and experimental settings in the main text and the appendix of the paper. ", "page_idx": 18}, {"type": "text", "text": "4. Open access to data and code ", "text_level": 1, "page_idx": 18}, {"type": "text", "text": "Question: Does the paper provide open access to the data and code, with sufficient instructions to faithfully reproduce the main experimental results, as described in supplemental material? ", "page_idx": 18}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 19}, {"type": "text", "text": "Justification: Our code and models will be open-sourced upon acceptance. ", "page_idx": 19}, {"type": "text", "text": "5. Experimental Setting/Details ", "text_level": 1, "page_idx": 19}, {"type": "text", "text": "Question: Does the paper specify all the training and test details (e.g., data splits, hyperparameters, how they were chosen, type of optimizer, etc.) necessary to understand the results? ", "page_idx": 19}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 19}, {"type": "text", "text": "Justification: The paper specifies all the training and test details, including data splits, hyperparameters, how they were chosen, and the type of optimizer used, necessary to understand the results. ", "page_idx": 19}, {"type": "text", "text": "6. Experiment Statistical Significance ", "text_level": 1, "page_idx": 19}, {"type": "text", "text": "Question: Does the paper report error bars suitably and correctly defined or other appropriate information about the statistical significance of the experiments? ", "page_idx": 19}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 19}, {"type": "text", "text": "Justification: The results reported in the paper are reproducible. ", "page_idx": 19}, {"type": "text", "text": "7. Experiments Compute Resources ", "text_level": 1, "page_idx": 19}, {"type": "text", "text": "Question: For each experiment, does the paper provide sufficient information on the computer resources (type of compute workers, memory, time of execution) needed to reproduce the experiments? ", "page_idx": 19}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 19}, {"type": "text", "text": "Justification: The paper provides sufficient information on the computer resources ", "page_idx": 19}, {"type": "text", "text": "8. Broader Impacts ", "text_level": 1, "page_idx": 19}, {"type": "text", "text": "Question: Does the paper discuss both potential positive societal impacts and negative societal impacts of the work performed? ", "page_idx": 19}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 19}, {"type": "text", "text": "Justification: The paper discusses both potential positive societal impacts and negative societal impacts of the work performed. ", "page_idx": 19}, {"type": "text", "text": "9. Safeguards ", "text_level": 1, "page_idx": 19}, {"type": "text", "text": "Question: Does the paper describe safeguards that have been put in place for responsible release of data or models that have a high risk for misuse (e.g., pretrained language models, image generators, or scraped datasets)? ", "page_idx": 19}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 19}, {"type": "text", "text": "Justification: The paper describes safeguards for responsibly releasing high-risk data or models, such as pretrained language models or image generators. ", "page_idx": 19}, {"type": "text", "text": "10. Licenses for existing assets ", "text_level": 1, "page_idx": 19}, {"type": "text", "text": "Question: Are the creators or original owners of assets (e.g., code, data, models), used in the paper, properly credited and are the license and terms of use explicitly mentioned and properly respected? ", "page_idx": 19}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 19}, {"type": "text", "text": "Justification: Proper credit is given to the creators or original owners of assets used in the paper, and the license and terms of use are explicitly mentioned and respected. ", "page_idx": 19}, {"type": "text", "text": "11. New Assets ", "text_level": 1, "page_idx": 19}, {"type": "text", "text": "Question: Are new assets introduced in the paper well documented and is the documentation provided alongside the assets? ", "page_idx": 19}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 19}, {"type": "text", "text": "Justification: Upon acceptance, documentation for the code, data, and logs will be provided alongside the assets. ", "page_idx": 19}, {"type": "text", "text": "12. Crowdsourcing and Research with Human Subjects ", "text_level": 1, "page_idx": 19}, {"type": "text", "text": "Question: For crowdsourcing experiments and research with human subjects, does the paper include the full text of instructions given to participants and screenshots, if applicable, as well as details about compensation (if any)? ", "page_idx": 20}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 20}, {"type": "text", "text": "Justification: The details of the user study, including the full text of instructions given to participants and any relevant screenshots, are provided in the appendix. ", "page_idx": 20}, {"type": "text", "text": "13. Institutional Review Board (IRB) Approvals or Equivalent for Research with Human Subjects ", "text_level": 1, "page_idx": 20}, {"type": "text", "text": "Question: Does the paper describe potential risks incurred by study participants, whether such risks were disclosed to the subjects, and whether Institutional Review Board (IRB) approvals (or an equivalent approval/review based on the requirements of your country or institution) were obtained? ", "page_idx": 20}, {"type": "text", "text": "Answer: [Yes] ", "page_idx": 20}, {"type": "text", "text": "Justification: The user study adheres to relevant national laws and regulations regarding participant safety and ethics. Risks incurred by study participants, as well as any necessary disclosures, are described. ", "page_idx": 20}]