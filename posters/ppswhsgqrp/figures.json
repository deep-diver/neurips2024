[{"figure_path": "pPSWHsgqRp/figures/figures_1_1.jpg", "caption": "Figure 1: For a given input x, SMOOTHIE estimates the quality of every LLM ensemble's generation, and uses this quality weight to route x to a single LLM.", "description": "This figure illustrates the SMOOTHIE algorithm's three main steps. First, the input text is embedded into a vector space. Then, a subset of similar samples (nearest neighbors) is selected to estimate the quality score of each LLM using a latent variable graphical model. Finally, the input text is routed to the LLM with the highest quality score, and its generated output is returned.", "section": "1 Introduction"}, {"figure_path": "pPSWHsgqRp/figures/figures_6_1.jpg", "caption": "Figure 2: (a) Spearman\u2019s rank correlation coefficient between SMOOTHIE-GLOBAL weights and ground-truth LLM performance for 3B and 7B ensembles across NLG tasks. (b) SMOOTHIE-GLOBAL\u2019s improvement over RANDOM by win-rate on AlpacaEval. (c) SMOOTHIE-GLOBAL\u2019s improvement over RANDOM by length-controlled win-rate on AlpacaEval.", "description": "This figure presents three boxplots summarizing the performance of SMOOTHIE-GLOBAL. The leftmost boxplot (a) shows the distribution of Spearman's rank correlation coefficients between the learned quality scores and the ground truth performance across seven different natural language generation tasks and for both 3B and 7B model ensembles. The two boxplots on the right show the distribution of win-rate improvements achieved by SMOOTHIE-GLOBAL over a random baseline for AlpacaEval. Specifically, boxplot (b) displays the standard win-rate and boxplot (c) shows the win-rate after a length control.", "section": "5.1 Single-Task LLM Scoring"}, {"figure_path": "pPSWHsgqRp/figures/figures_7_1.jpg", "caption": "Figure 3: On DISTR-ACC and DISTR-ROUGE2, we measure how frequently SMOOTHIE-LOCAL selects the i-th best generation across the ensemble, for both the 3B and 7B ensembles.", "description": "This figure shows the distribution of the rank of the LLM selected by SMOOTHIE-LOCAL for each sample in the DISTR-ACC and DISTR-ROUGE2 datasets.  The x-axis represents the rank (1 being the best performing LLM), and the y-axis represents the relative frequency of selecting that rank.  The figure visually demonstrates the performance of SMOOTHIE-LOCAL by showing how often it selects the highest-performing or near-highest-performing LLMs for each sample, indicating that its sample-specific scoring is effective.", "section": "5.2 Multi-task Routing"}, {"figure_path": "pPSWHsgqRp/figures/figures_22_1.jpg", "caption": "Figure 4: We compare RANDOM (blue) and SMOOTHIE-GLOBAL (orange) for prompt-selection on different sized models in the Pythia suite. The x-axis denotes model size, and the y-axis denotes performance (either rouge2 or accuracy).", "description": "This figure compares the performance of two methods, RANDOM and SMOOTHIE-GLOBAL, for prompt selection using different sized language models from the Pythia suite.  The x-axis represents the size of the language models used (0.41B, 1B, 2.8B, and 6.9B parameters), while the y-axis represents the performance achieved, measured using either ROUGE-2 scores or accuracy, depending on the specific task. The blue line shows the results for the RANDOM method, while the orange line shows the results for the SMOOTHIE-GLOBAL method. The figure helps to visualize how the performance of both methods changes with the increase in language model size across various natural language generation tasks, allowing for a direct comparison of their performance.", "section": "5.3 Prompt Selection"}, {"figure_path": "pPSWHsgqRp/figures/figures_23_1.jpg", "caption": "Figure 5: We measure how SMOOTHIE-LOCAL\u2019s performance on DISTR-ACC changes as n<sub>0</sub> changes.", "description": "This figure shows the performance of SMOOTHIE-LOCAL on the DISTR-ACC dataset as a function of the neighborhood size (n<sub>0</sub>). The x-axis represents different neighborhood sizes, and the y-axis represents the accuracy score.  The plot demonstrates how the accuracy changes as more or fewer nearest neighbors are considered when estimating LLM quality scores.  Two lines are shown, likely representing the 3B and 7B model ensembles.  It is evident that performance is highest at n<sub>0</sub> = 1 and gradually decreases as n<sub>0</sub> increases. This indicates the importance of considering a small, sample-specific neighborhood when making LLM quality score estimations for effective routing.", "section": "5.4 Ablations"}, {"figure_path": "pPSWHsgqRp/figures/figures_24_1.jpg", "caption": "Figure 6: We measure how SMOOTHIE-LOCAL\u2019s performance on DISTR-ROUGE2 changes as no changes.", "description": "This figure shows the performance of SMOOTHIE-LOCAL on the DISTR-ROUGE2 dataset as the neighborhood size parameter (no) varies.  The x-axis represents different values of no, and the y-axis shows the corresponding score.  The figure illustrates how the model's performance is affected by the number of nearest neighbors considered during the quality score estimation.  Different line colors may represent different model sizes or configurations.", "section": "5.2 Multi-task Routing"}, {"figure_path": "pPSWHsgqRp/figures/figures_24_2.jpg", "caption": "Figure 8: We construct a histogram over the rank of the LLM selected by SMOOTHIE-GLOBAL across both the 3B and 7B ensembles, for 7 NLG tasks.", "description": "This figure shows a histogram visualizing the ranks of the language models (LLMs) selected by the SMOOTHIE-GLOBAL method across various natural language generation (NLG) tasks.  The data is broken down by two different ensemble sizes (3B and 7B parameter LLMs), highlighting the frequency with which SMOOTHIE-GLOBAL selects the top-ranked, second-ranked, and so on, LLMs.  The distribution indicates how often SMOOTHIE-GLOBAL accurately identifies the highest performing model.", "section": "Single-Task LLM Scoring"}, {"figure_path": "pPSWHsgqRp/figures/figures_25_1.jpg", "caption": "Figure 8: We construct a histogram over the rank of the LLM selected by SMOOTHIE-GLOBAL across both the 3B and 7B ensembles, for 7 NLG tasks.", "description": "This figure shows the distribution of the ranking of the LLM selected by SMOOTHIE-GLOBAL across 7 different NLG tasks for both the 3B and 7B ensembles of LLMs.  The x-axis represents the rank of the selected LLM (1 being the best-performing LLM in the ensemble for a task), while the y-axis shows the frequency of that rank appearing across the 7 tasks.  The distribution is heavily weighted toward rank 1, indicating that SMOOTHIE-GLOBAL frequently selects the best-performing LLM in the ensemble.", "section": "5.1 Single-Task LLM Scoring"}]