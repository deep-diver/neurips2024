[{"figure_path": "L4RwA0qyUd/figures/figures_1_1.jpg", "caption": "Figure 1: Pipeline for proximal causal inference with text data. The top row of captions describe the general pipeline that uses text data from any setting, and the bottom italicized row describes an illustrative example based on our semi-synthetic experiments in Sec. 5. (1) We filter to only pre-treatment text; (2 and 3) for each individual in the analysis, we select two distinct instances of text (e.g., echocardiogram and nursing notes) via metadata with the goal of satisfying Tpre1 || Tpre2 | U, C; (4 and 5) we use Tpre1 and Tpre2 as inputs into LLM-1 and LLM-2, respectively, to infer zero-shot proxies Z and W. (7) If the proxies fail our odds ratio heuristic, analysis stops. (8, 9, and 10) Else, we use the proximal g-formula implied by the causal DAG to estimate the causal effect.", "description": "This figure illustrates the pipeline for proximal causal inference with text data. It starts by filtering pre-treatment text data and selecting two distinct instances for each individual.  Zero-shot models (LLM-1 and LLM-2) then infer proxies (Z and W) from these text instances. An odds ratio heuristic checks the validity of the proxies. If valid, the proximal g-formula is used to estimate the causal effect; otherwise, the analysis stops.  The bottom row provides a specific example using MIMIC-III clinical notes.", "section": "1 Introduction"}, {"figure_path": "L4RwA0qyUd/figures/figures_2_1.jpg", "caption": "Figure 2: Causal DAGs (a) depicting unmeasured confounding and (b) compatible with the canonical assumptions used for proximal causal inference (Tchetgen Tchetgen et al., 2020).", "description": "Figure 2 shows two causal directed acyclic graphs (DAGs).  Graph (a) depicts a scenario with an unmeasured confounder, U, affecting both the treatment (A) and the outcome (Y). This illustrates a common challenge in causal inference where bias can arise from unobserved variables. Graph (b) represents a DAG compatible with the assumptions of proximal causal inference. This approach uses two proxies, Z and W, for the unmeasured confounder to mitigate the bias caused by U. The relationships between the variables in (b) ensure that the causal effect of A on Y can be identified despite the presence of the unobserved confounder.", "section": "Problem Setup And Motivation"}, {"figure_path": "L4RwA0qyUd/figures/figures_4_1.jpg", "caption": "Figure 3: Causal DAGs depicting several different scenarios for inferring text-based proxies. Edges with different colors and patterns, e.g., Tpre \u2192 Z and Tpre \u2192 W, indicate that different zero-shot models were used. Our final recommended method is based on (d).", "description": "This figure showcases four causal directed acyclic graphs (DAGs), each representing a different approach to inferring text-based proxies for an unobserved confounder (U) in a causal inference setting.  The graphs illustrate various methods of using pre-treatment text data (Tpre) and zero-shot models to generate proxy variables (Z and W) for the unobserved confounder.  The differences lie in how many text instances are used, whether the same or different zero-shot models are used for each proxy, and how the proxies are incorporated into the causal inference framework. The figure highlights the shortcomings of simpler approaches (a, b, c) while illustrating the preferred method (d), which uses two distinct instances of pre-treatment text (Tpre1, Tpre2) with two separate zero-shot models to generate the proxies Z and W, thus fulfilling the conditions required for proximal causal inference.", "section": "3 Designing Text-Based Proxies"}, {"figure_path": "L4RwA0qyUd/figures/figures_7_1.jpg", "caption": "Figure 4: Semi-synthetic results for ACE point estimates (dots) and 95% CIs (bars). We distinguish settings that passed the odds ratio heuristic (\u221a) from those that failed, with high = 2.", "description": "This figure shows the results of applying the proposed method and two other methods to estimate the average causal effect (ACE) in semi-synthetic settings.  The x-axis represents the different methods used, including a backdoor adjustment with a single proxy, and the proposed methods P1M and P2M. The y-axis shows the estimated ACE.  Points represent point estimates and bars represent 95% confidence intervals. The green dashed line indicates the true ACE. The \u221a symbol indicates settings that passed a proposed odds ratio heuristic designed to help assess the validity of the model's assumptions. The figure visually demonstrates the effectiveness of the proposed method (P2M) compared to the simpler methods, especially when the odds ratio heuristic passes.  The results highlight that using the inferred proxies directly in backdoor adjustment produces biased estimates.", "section": "5 Empirical Experiments and Results"}, {"figure_path": "L4RwA0qyUd/figures/figures_14_1.jpg", "caption": "Figure 5: Using both pre-treatment and post-treatment text to generate valid proxies.", "description": "This figure shows a causal directed acyclic graph (DAG) illustrating a scenario where valid proxies can be inferred using both pre-treatment and post-treatment text data.  The graph depicts the relationships between pre-treatment text (Tpre), post-treatment text (Tpost), observed confounders (C), unobserved confounder (U), treatment (A), outcome (Y), and the two inferred proxies (W and Z). The dashed green arrows represent the conditional independence assumptions required for proximal causal inference, specifically that the proxies do not depend on the outcome (P3) and that one proxy (W) does not depend on the treatment (P2). The figure demonstrates that even with post-treatment text, the identification conditions for proximal causal inference can still be met if the pre- and post-treatment text are used to generate two separate proxies that satisfy the conditional independence constraints.", "section": "3 Designing Text-Based Proxies"}, {"figure_path": "L4RwA0qyUd/figures/figures_15_1.jpg", "caption": "Figure 6: Using one instance of actionable text data and another instance of non-actionable text data to generate valid proxies.", "description": "This figure is a causal directed acyclic graph (DAG) illustrating how to generate valid proxies using one instance of actionable text data and another instance of non-actionable text data.  It shows that even if one proxy is influenced by the treatment (Tact), the independence conditions for proximal causal inference can still be met if the other proxy is based solely on pre-treatment data (Tpre). The figure expands on previous 'gotchas' of using text data in proximal causal inference, demonstrating a valid design.", "section": "3 Designing Text-Based Proxies"}, {"figure_path": "L4RwA0qyUd/figures/figures_15_2.jpg", "caption": "Figure 3: Causal DAGs depicting several different scenarios for inferring text-based proxies. Edges with different colors and patterns, e.g., Tpre \u2192 Z and Tpre \u2192 W, indicate that different zero-shot models were used. Our final recommended method is based on (d).", "description": "This figure presents four different causal diagrams illustrating various methods for generating text-based proxies using pre-treatment text data.  Each diagram shows different relationships between pre-treatment text (Tpre), the unmeasured confounder (U), treatment (A), outcome (Y), and two proxies (W and Z). The diagrams highlight the potential pitfalls of using a single text instance or a single model to create proxies, underscoring the importance of employing two distinct text instances and two zero-shot models to infer the proxies, ensuring the independence of the proxies conditional on observed covariates and the unmeasured confounder. The final diagram (d) depicts the authors' recommended method, which successfully satisfies these crucial conditions and leads to unbiased causal effect estimates.", "section": "3 Designing Text-Based Proxies"}, {"figure_path": "L4RwA0qyUd/figures/figures_19_1.jpg", "caption": "Figure 2: Causal DAGs (a) depicting unmeasured confounding and (b) compatible with the canonical assumptions used for proximal causal inference (Tchetgen Tchetgen et al., 2020).", "description": "Panel (a) shows a causal directed acyclic graph (DAG) representing a scenario with unmeasured confounding.  The variable U represents an unobserved confounder that affects both the treatment (A) and outcome (Y).  Panel (b) illustrates a DAG that satisfies the identification conditions for proximal causal inference.  Two proxies, W and Z, are used to estimate the effect of the treatment on the outcome, accounting for the unobserved confounder U.", "section": "Problem Setup And Motivation"}, {"figure_path": "L4RwA0qyUd/figures/figures_20_1.jpg", "caption": "Figure 1: Pipeline for proximal causal inference with text data. The top row of captions describe the general pipeline that uses text data from any setting, and the bottom italicized row describes an illustrative example based on our semi-synthetic experiments in Sec. 5. (1) We filter to only pre-treatment text; (2 and 3) for each individual in the analysis, we select two distinct instances of text (e.g., echocardiogram and nursing notes) via metadata with the goal of satisfying Tpre1 || Tpre2 | U, C; (4 and 5) we use Tpre1 and Tpre2 as inputs into LLM-1 and LLM-2, respectively, to infer zero-shot proxies Z and W. (7) If the proxies fail our odds ratio heuristic, analysis stops. (8, 9, and 10) Else, we use the proximal g-formula implied by the casual DAG to estimate the causal effect.", "description": "This figure illustrates the pipeline of the proposed proximal causal inference method using text data.  It starts by filtering pre-treatment text data and selecting two distinct instances for each individual.  Zero-shot models then infer two proxies from these instances. An odds ratio heuristic checks the validity of the proxies. If successful, the proximal g-formula is used to estimate the causal effect.  An example using MIMIC-III clinical notes is shown.", "section": "1 Introduction"}]