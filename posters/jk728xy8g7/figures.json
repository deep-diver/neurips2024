[{"figure_path": "JK728xy8G7/figures/figures_1_1.jpg", "caption": "Figure 1: Teaser. (a) Images sampled from vanilla SDXL [35] without any guidance. (b) Images sampled with Smoothed Energy Guidance (Ours). \u00d8 denotes that there is no condition given. With various input conditions, and even without any, SEG supports the diffusion model in generating plausible and high-quality images without any training.", "description": "This figure shows a comparison of image generation results between the vanilla Stable Diffusion XL (SDXL) model and the proposed Smoothed Energy Guidance (SEG) method.  The left side (a) displays examples generated by the vanilla SDXL model without any guidance (unconditional generation), while the right side (b) presents examples generated using the SEG method. The results showcase SEG's ability to generate plausible and high-quality images, even in the absence of input conditions, by improving on the quality of unconditional image generation.", "section": "1 Introduction"}, {"figure_path": "JK728xy8G7/figures/figures_5_1.jpg", "caption": "Figure 5: Qualitative comparison of SEG with vanilla SDXL [35], SAG [17], and PAG [1].", "description": "This figure presents a qualitative comparison of the proposed Smoothed Energy Guidance (SEG) method against three other unconditional guidance approaches: vanilla Stable Diffusion XL (SDXL), Self-Attention Guidance (SAG), and Perturbed Attention Guidance (PAG).  The figure visually demonstrates the differences in image quality, detail preservation, and artifact reduction between the methods.  Each row shows the results from a different image generation task, comparing the outputs of the four methods for each task.  This provides a visual evaluation of SEG's effectiveness relative to existing methods in producing high-quality, artifact-free images, even with strong guidance.", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_5_2.jpg", "caption": "Figure 3: Text-conditional generation using SEG.", "description": "This figure demonstrates the effectiveness of SEG in text-conditional image generation.  It shows how the quality of the generated images improves as the standard deviation (\u03c3) of the Gaussian filter increases, ranging from \u03c3 = 1 to \u03c3 approaching infinity. The text prompts used are: \"a jellyfish playing the drums in an underwater concert\" and \"a high-resolution satellite image of a bustling shipping port, countless colorful containers\". The figure visually compares the output across different \u03c3 values with the vanilla SDXL output (\u03c3 \u2192 0), showcasing how SEG enhances image quality and detail while maintaining coherence with the textual descriptions.", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_6_1.jpg", "caption": "Figure 4: Conditional generation using ControlNet [51] and SEG.", "description": "This figure shows the results of conditional image generation using ControlNet [51] and the proposed SEG method.  Different rows represent different ControlNet conditioning inputs (e.g., canny edge detection, depth map, etc.), while columns illustrate results at various Gaussian blur standard deviation (\u03c3) values, demonstrating how SEG affects the output at various levels of smoothing.  This illustrates the versatility of SEG and how it can complement other control mechanisms for image generation.", "section": "5 Experiments"}, {"figure_path": "JK728xy8G7/figures/figures_7_1.jpg", "caption": "Figure 5: Qualitative comparison of SEG with vanilla SDXL [35], SAG [17], and PAG [1].", "description": "This figure presents a qualitative comparison of the image generation results obtained using Smoothed Energy Guidance (SEG), vanilla SDXL, Self-Attention Guidance (SAG), and Perturbed Attention Guidance (PAG).  It visually demonstrates SEG's ability to produce higher-quality images compared to the other methods, exhibiting sharper details, improved coherence, and a greater adherence to the prompt's specifications.  The comparison highlights SEG's advantage in generating images with more realistic textures and overall composition.", "section": "5.2 Metrics"}, {"figure_path": "JK728xy8G7/figures/figures_8_1.jpg", "caption": "Figure 6: Ablation study on \nseg and \u03c3.", "description": "This ablation study explores the effect of varying the guidance scale parameter (\\seg) and the standard deviation of the Gaussian filter (\u03c3) on the performance of Smoothed Energy Guidance (SEG).  The left panel shows FID scores, while the right panel shows CLIP scores for different combinations of  \\seg and \u03c3. This helps to determine the optimal settings for SEG to balance sample quality and computational efficiency. Notably, increasing \u03c3 tends to improve sample quality without causing saturation, supporting the idea that \u03c3 is the better parameter to control image quality.", "section": "5.5 Ablation study"}, {"figure_path": "JK728xy8G7/figures/figures_15_1.jpg", "caption": "Figure 7: Pipeline of SEG. (a) Original sampling process, self-attention weights, and the corresponding energy landscape. (b) Our modified sampling process with blurred queries where \u03c3\u2208 (0,\u221e), inducing blurred attention weights and the corresponding smoothed energy landscape. (c) A conceptual figure of seg. Note that since the guidance linearly extrapolates predictions from (a) and (b), a high guidance scale causes samples to be out of the manifold.", "description": "This figure illustrates the pipeline of Smoothed Energy Guidance (SEG).  Panel (a) shows the standard self-attention process with its associated energy landscape. Panel (b) depicts the SEG modification, applying a Gaussian blur to the attention weights (controlled by \u03c3), resulting in a smoother energy landscape.  Panel (c) provides a conceptual visualization of how SEG combines the original and blurred predictions (using a guidance scale parameter), demonstrating that a high guidance scale may lead to less natural samples.", "section": "3.3 Smoothed energy guidance for diffusion models"}, {"figure_path": "JK728xy8G7/figures/figures_16_1.jpg", "caption": "Figure 8: Qualitative comparison of SEG with vanilla SDXL [35], SAG [17], and PAG [1].", "description": "This figure presents a qualitative comparison of the image generation results produced by four different methods: vanilla Stable Diffusion XL (SDXL), Self-Attention Guidance (SAG), Perturbed Attention Guidance (PAG), and the proposed Smoothed Energy Guidance (SEG).  Each row shows the results for a particular image generation task or prompt, with each column representing a different method. The goal is to visually demonstrate the improved image quality and reduced side effects obtained using SEG compared to the other methods, particularly when dealing with higher guidance scales.", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_17_1.jpg", "caption": "Figure 5: Qualitative comparison of SEG with vanilla SDXL [35], SAG [17], and PAG [1].", "description": "This figure presents a qualitative comparison of the image generation results obtained using four different methods: vanilla SDXL, SAG, PAG, and SEG.  The comparison highlights the differences in image quality, detail, and adherence to the given prompts, illustrating SEG's superior performance in producing sharper, more detailed images that better match the prompt descriptions.  It visually demonstrates the advantages of SEG over existing unconditional guidance approaches.", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_18_1.jpg", "caption": "Figure 4: Conditional generation using ControlNet [51] and SEG.", "description": "This figure demonstrates conditional image generation using ControlNet and the proposed Smoothed Energy Guidance (SEG) method.  It showcases how SEG enhances the quality of images generated by ControlNet when provided with various conditioning inputs (e.g., different values of the standard deviation parameter \u03c3). The results illustrate the effectiveness of SEG in improving image quality and detail while maintaining consistency with the provided conditions.", "section": "5 Experiments"}, {"figure_path": "JK728xy8G7/figures/figures_18_2.jpg", "caption": "Figure 10: Conditional generation using ControlNet [51] and SEG.", "description": "This figure shows the results of conditional image generation using ControlNet and the proposed SEG method.  It demonstrates SEG's ability to enhance image quality when combined with ControlNet, across different standard deviations (\u03c3) of the Gaussian blur in SEG. The top row shows the ControlNet input, and the bottom row shows the corresponding generated image.", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_18_3.jpg", "caption": "Figure 12: Comparison between query and key blur across different values of \u03c3.", "description": "This figure compares the effects of applying Gaussian blur to either the query or key matrices in the self-attention mechanism of a diffusion model.  It shows how varying the standard deviation (\u03c3) of the Gaussian blur affects image generation.  Different \u03c3 values result in varying degrees of blurring, demonstrating the impact on image details and overall appearance.  The top two rows showcase results for one image prompt, while the bottom two rows show results for a different prompt.  This illustrates that the method's effect is not image-specific and depends on the \u03c3 parameter.", "section": "3.3 Smoothed energy guidance for diffusion models"}, {"figure_path": "JK728xy8G7/figures/figures_19_1.jpg", "caption": "Figure 12: Comparison between query and key blur across different values of \u03c3.", "description": "This figure shows a comparison of applying Gaussian blur to either the query or key matrix in the self-attention mechanism of a diffusion model. Different standard deviations (\u03c3) of the Gaussian blur are used, ranging from 0 (no blur) to 10 and infinity. The results demonstrate how the choice of blurring method and the standard deviation affects the output images.", "section": "3.3 Smoothed energy guidance for diffusion models"}, {"figure_path": "JK728xy8G7/figures/figures_20_1.jpg", "caption": "Figure 14: Text-conditional generation using SEG.", "description": "This figure shows the results of text-conditional image generation using the proposed Smoothed Energy Guidance (SEG) method.  It demonstrates SEG's ability to generate high-quality images while adhering to the provided text prompts. The figure showcases several examples with different prompts and varying levels of Gaussian blur (\u03c3), highlighting SEG's control over the generation process.", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_21_1.jpg", "caption": "Figure 15: Experiment on the combination of SEG and CFG. \\seg is fixed to 3.0. The prompt is \"a friendly robot helping an old lady cross the street.\" Without causing saturation or significant changes in the general structure, SEG improves the image quality.", "description": "This figure shows the results of an experiment combining Smoothed Energy Guidance (SEG) with classifier-free guidance (CFG).  The SEG guidance scale is fixed at 3.0, while the CFG scale varies (1, 3, 5, 7, and 9).  The prompt used for image generation is: \"a friendly robot helping an old lady cross the street.\"\n\nThe images demonstrate that SEG enhances image quality across different CFG scales without the saturation and structural changes observed with CFG alone.  This suggests that SEG improves the quality of images generated by diffusion models without significantly altering the overall content or structure.", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_21_2.jpg", "caption": "Figure 16: Experiment on the combination of SEG and CFG. \nseg is fixed to 3.0. The prompt is \"a skateboarding turtle zooming through a mini city made of Legos.\"", "description": "This figure shows the results of an experiment combining Smoothed Energy Guidance (SEG) with Classifier-Free Guidance (CFG) for conditional image generation.  The prompt used was: \"a skateboarding turtle zooming through a mini city made of Legos.\" The SEG guidance scale (\u03b3seg) was fixed at 3.0, while the CFG guidance scale (\u03b3cfg) was varied across multiple levels (1, 3, 5, 7, 9).  The standard deviation (\u03c3) of the Gaussian blur in SEG was also varied (\u03c3 = 1, \u03c3 = 10, \u03c3 \u2192 \u221e). The images demonstrate how SEG enhances the quality of images generated with CFG, across various CFG scales and \u03c3 values, without introducing saturation or significant changes in the image structure.", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_22_1.jpg", "caption": "Figure 17: Experiment on the combination of SEG and CFG. \nseg is fixed to 3.0. The prompt is \u201ca group of puppies playing soccer with a ball of yarn.\u201d", "description": "This figure shows the results of an experiment combining Smoothed Energy Guidance (SEG) and Classifier-Free Guidance (CFG) on generating images of puppies playing soccer with a ball of yarn.  The SEG guidance scale (\\seg) is fixed at 3.0, while the CFG scale (\\cfg) varies across columns (1, 3, 5, 7, 9). Rows represent different values for the Gaussian blur parameter (\u03c3) used in SEG: 1, 10, and \u221e (representing no blur).  The experiment aims to show the impact of varying CFG strength combined with different levels of energy smoothing from SEG on image generation.", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_22_2.jpg", "caption": "Figure 18: Experiment on the combination of SEG and CFG. \nseg is fixed to 3.0. The prompt is \"a family of teddy bears having a barbecue in their backyard.\"", "description": "This figure shows the results of an experiment combining Smoothed Energy Guidance (SEG) with classifier-free guidance (CFG) in image generation.  The SEG guidance scale (\\seg) is fixed at 3.0, while the CFG scale (\\cfg) is varied across multiple rows, from 1 to 9. The columns show samples generated using different values of \u03c3 (standard deviation of the Gaussian filter for blurring attention weights): \u03c3 = 1, \u03c3 = 10, and \u03c3 \u2192 \u221e. The purpose of the experiment is to demonstrate how SEG enhances image quality at various CFG scales without causing saturation or significant changes in the overall image structure. The prompt used is: \"a family of teddy bears having a barbecue in their backyard.\"", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_23_1.jpg", "caption": "Figure 15: Experiment on the combination of SEG and CFG. \\seg is fixed to 3.0. The prompt is \"a friendly robot helping an old lady cross the street.\" Without causing saturation or significant changes in the general structure, SEG improves the image quality.", "description": "This figure shows an experiment combining Smoothed Energy Guidance (SEG) with classifier-free guidance (CFG).  The SEG guidance scale (\\seg) is held constant at 3.0, while the CFG scale (\\cfg) is varied. The prompt used is: \"a friendly robot helping an old lady cross the street.\"  The results demonstrate that SEG enhances image quality across various CFG scales without causing saturation or major structural alterations.  The images illustrate the improvements in detail and overall quality achieved by SEG.", "section": "5.3 Controlling image generation with the standard deviation"}, {"figure_path": "JK728xy8G7/figures/figures_23_2.jpg", "caption": "Figure 20: Unconditional generation result with controlled \nseg and \u03c3.", "description": "This figure visualizes the impact of varying both the guidance scale (\u03b3seg) and the standard deviation (\u03c3) of the Gaussian blur on unconditional image generation. Each row represents a different \u03b3seg value (1, 2, 5, 10, 100), and each column showcases results obtained using different \u03c3 values (1, 2, 5, 10, \u221e). It demonstrates how these two parameters affect image quality and the diversity of generated outputs in an unconditional generation setting.", "section": "5.5 Ablation study"}]